---
layout: page
title: The Happy Robot Team for WRS2020
date: 2019-09-05 11:25:10.000000000 +09:00
type: page
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta:
  _edit_last: '2'
  _wp_page_template: default
  views: '234'
  _quads_config_visibility: a:0:{}
  the_page_seo_title: ''
  the_page_meta_description: ''
  the_page_meta_keywords: ''
  the_page_noindex: '0'
  the_page_nofollow: '0'
  the_page_canonical_url: ''
  the_page_ads_novisible: '0'
  page_type: default
  the_page_read_time_novisible: '0'
  the_page_toc_novisible: '0'
  update_level: high
  redirect_url: ''
  the_page_no_amp: '0'
  _custom_css: ''
  _custom_js: ''
  the_page_memo: ''
  sns_image_url: ''
  _thumbnail_id: '16043'
  the_review_enable: '0'
  the_review_name: ''
  the_review_rate: '5'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/wrs2020"
---
<p>[caption id="attachment_16043" align="alignnone" width="956"]<a style="font-size: 18px;" href="https://demura.net/wordpress/wp-content/uploads/2019/09/member18.png"><img class="wp-image-16043 size-full" src="{{ site.baseurl }}/assets/images/2019/09/member18.png" alt="Fig.1 Member and Happy Truck in WRS2018" width="956" height="615" /></a> Fig.1 Member and Happy Truck in WRS2018[/caption]</p>
<h1> <strong style="text-align: center;">Future Convenience Store Challenge</strong></h1>
<ul>
<li><strong>Vision</strong></li>
</ul>
<p>The vision of the Happy Robot team is “Making the World Happy by Making a Kawaii Robot.” “Kawaii” means cute, lovely, or charming. We think that the kawaii robot can solve problems of an aging society and make environments of convenience stores happier for customers in Japan. Happy Mini as shown in Fig.2 is designed in the image of a little child with a lively yellow color.<sup><a id="ref1" href="#fn1">[1]</a>. The software system is based on ROS, and the state of arts frame works such as Caffe, Darknet, Digits, Hark, Kaldi and so on.</sup></p>
<p>The Happy Robot team has been participating in the RoboCup@Home league of the RoboCup Japan Open since 2012, and participated in the RoboCup 2015, 2016, 2017 and 2018 world competition. The team got the 9th, 8th, 9th, and 5 places in the competition, respectively.</p>
<ul>
<li><strong>Video explaining the system outline</strong>
<ul>
<li style="list-style-type: none;">
<ul>
<li>Stocking and Disposing Task</li>
</ul>
</li>
</ul>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/iJyULgclKQo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></p>
<ul>
<li style="list-style-type: none;">
<ul>
<li>Customer Interaction Task</li>
</ul>
</li>
</ul>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/els8GFCnb2Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></p>
<ul>
<li style="list-style-type: none;">
<ul>
<li>Restroom Cleaning Task</li>
</ul>
</li>
</ul>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/u_bHF1Kr-IE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></li>
</ul>
<ul>
<li><strong>Team</strong>
<ul>
<li>Adviser: Kosei Demura</li>
<li>Member: Yamato Fujibayashi (Leader),  Syuhei Mashimo, Minami Kawaguchi, Yoshiki Murai,  Ranka Mori</li>
</ul>
</li>
<li><strong>Our Happy Robots</strong>
<ul>
<li style="list-style-type: none;">
<ul>
<li>Happy Mini
<p>[caption id="attachment_16035" align="alignright" width="199"]<img class="wp-image-16035 size-medium" src="{{ site.baseurl }}/assets/images/2019/09/happymini-199x300.png" alt="Happy Mini" width="199" height="300" /> Fig.2 Happy Mini[/caption]</p>
<table style="width: 62.7939%; height: 300px;">
<tbody>
<tr style="height: 45px;">
<td style="width: 27.2219%; height: 45px;" width="153">Height [m]</td>
<td style="width: 35.4104%; height: 45px;" width="154">0.93~1.16</td>
</tr>
<tr style="height: 45px;">
<td style="width: 27.2219%; height: 45px;" width="153">Width [m]</td>
<td style="width: 35.4104%; height: 45px;" width="154">0.35</td>
</tr>
<tr style="height: 45px;">
<td style="width: 27.2219%; height: 45px;" width="153">Length [m]</td>
<td style="width: 35.4104%; height: 45px;" width="154">0.38</td>
</tr>
<tr style="height: 45px;">
<td style="width: 27.2219%; height: 45px;" width="153">Weight [kg]</td>
<td style="width: 35.4104%; height: 45px;" width="154">9.5</td>
</tr>
<tr style="height: 45px;">
<td style="width: 27.2219%; height: 45px;" width="153">Max speed [m/s]</td>
<td style="width: 35.4104%; height: 45px;" width="154">0.7</td>
</tr>
<tr style="height: 45px;">
<td style="width: 27.2219%; height: 45px;" width="153">Arm D.O.F</td>
<td style="width: 35.4104%; height: 45px;" width="154">4</td>
</tr>
<tr>
<td style="width: 27.2219%;">Base</td>
<td style="width: 35.4104%;">Kobuki, Yujin</td>
</tr>
<tr>
<td style="width: 27.2219%;">Computer</td>
<td style="width: 35.4104%;">Jetson Xavier, Nvidia</td>
</tr>
<tr>
<td style="width: 27.2219%;">Lidar</td>
<td style="width: 35.4104%;">UTM-30LX, Hokuyo</td>
</tr>
<tr>
<td style="width: 27.2219%;">RGB-D Sensor</td>
<td style="width: 35.4104%;">RealSense D435, Intel</td>
</tr>
</tbody>
</table>
</li>
<li>Happy Burger
<p>[caption id="attachment_16036" align="alignright" width="300"]<a href="https://demura.net/wordpress/wp-content/uploads/2019/09/happyburger.png"><img class="wp-image-16036 size-medium" src="{{ site.baseurl }}/assets/images/2019/09/happyburger-300x270.png" alt="Happy Burger" width="300" height="270" /></a> Fig.3 Happy Burger[/caption]</p>
<table style="width: 47.4272%; height: 367px;">
<tbody>
<tr style="height: 45px;">
<td style="width: 37.6604%; height: 35px;">Height [m]</td>
<td style="width: 15.859%; height: 35px;">0.5</td>
</tr>
<tr style="height: 45px;">
<td style="width: 37.6604%; height: 29px;">Width [m]</td>
<td style="width: 15.859%; height: 29px;">0.5</td>
</tr>
<tr style="height: 45px;">
<td style="height: 33px;">Length [m]</td>
<td style="width: 15.859%; height: 33px;">0.5</td>
</tr>
<tr style="height: 45px;">
<td style="width: 37.6604%; height: 29px;">Weight [kg]</td>
<td style="width: 15.859%; height: 29px;">8.0</td>
</tr>
<tr style="height: 45px;">
<td style="width: 37.6604%; height: 32px;">Max speed [m/s]</td>
<td style="width: 15.859%; height: 32px;">0.5</td>
</tr>
<tr style="height: 45px;">
<td style="width: 37.6604%; height: 33px;">Arm D.O.F</td>
<td style="height: 33px;">4</td>
</tr>
<tr style="height: 32px;">
<td style="width: 37.6604%; height: 32px;">Base</td>
<td style="width: 15.859%; height: 32px;">Roomba 890, iRobot</td>
</tr>
<tr>
<td style="width: 37.6604%;">Arm</td>
<td style="width: 15.859%;">Mikata, Robotis</td>
</tr>
<tr style="height: 57px;">
<td style="width: 37.6604%; height: 44px;">Computer</td>
<td style="width: 15.859%; height: 44px;">Alienware 15, Dell</td>
</tr>
<tr style="height: 54px;">
<td style="width: 37.6604%; height: 43px;">Lidar</td>
<td style="width: 15.859%; height: 43px;">UTM-30LX, Hokuyo</td>
</tr>
<tr style="height: 15px;">
<td style="width: 37.6604%; height: 57px;">RGB-D</td>
<td style="width: 15.859%; height: 57px;">SensorRealSense D435, Intel</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
<ul>
<li style="list-style-type: none;">
<ul>
<li>Happy Truck<br />
<table style="width: 100%; height: 385px;">
<tbody>
<tr style="height: 45px;">
<td style="height: 39px;" width="123">Size</td>
<td style="height: 39px;" width="189">500[mm]x1000[mm]x1500[mm]</td>
</tr>
<tr style="height: 45px;">
<td style="height: 28px;" width="123">Weight</td>
<td style="height: 28px;" width="189">20 [kg]</td>
</tr>
<tr style="height: 45px;">
<td style="height: 34px;" width="123">Power Source</td>
<td style="height: 34px;" width="189">Li-ion 11.2 [Ah]</td>
</tr>
<tr style="height: 45px;">
<td style="height: 34px;" width="123">Power Unit</td>
<td style="height: 34px;" width="189">Joy Unit X, Yamaha</td>
</tr>
<tr style="height: 45px;">
<td style="height: 34px;" width="123">Arm</td>
<td style="height: 34px;" width="189">5 DOfs</td>
</tr>
<tr style="height: 45px;">
<td style="height: 34px;" width="123">Computer</td>
<td style="height: 34px;" width="189">Alienware 17, Dell</td>
</tr>
<tr style="height: 45px;">
<td style="height: 36px;" width="123">GPU</td>
<td style="height: 36px;" width="189">GTX 1070, NVIDIA</td>
</tr>
<tr style="height: 45px;">
<td style="height: 36px;" width="123">Lidar</td>
<td style="height: 36px;" width="189">UTM-30LX, Hokuyo</td>
</tr>
<tr style="height: 45px;">
<td style="height: 34px;" width="123">RGB-D Sensor</td>
<td style="height: 34px;" width="189">RealSense D435, Intel</td>
</tr>
<tr style="height: 45px;">
<td style="height: 37px;" width="123">Tracking Camera</td>
<td style="height: 37px;" width="189">RealSense T265, Intel</td>
</tr>
<tr style="height: 45px;">
<td style="height: 39px;" width="123">Omni Camera</td>
<td style="height: 39px;" width="189">PIXPRO SP360 4K (Kodak)</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<ul>
<li style="list-style-type: none;">
<ul>
<li style="list-style-type: none;">
<ul>
<li><strong>Hardware</strong>
<ul>
<li style="list-style-type: none;">
<ul>
<li><strong>MIKATA Arm</strong><br />
One of our Happy Robots uses the MIKATA arm, the Open Source Manipulator by DYNAMIXEL.INC. We customized MIKATA arm to increase the payload. The customization is double motor and gravity compensation.</li>
<li><strong>FingerVision</strong><br />
<a href="http://akihikoy.net/notes/?project%2FFingerVision">FingerVision</a> is a vision-based tactile sensor(Optical Skin) for robot hands, developed by Akihiko Yamaguchi and Christopher Atkeson. Yamaguchi is a joint researcher of the Happy Robot team. It has many functions such as contact force distribution, proximity vision: slip, deformation, and object pose estimation.<br />
Using the FingerVision, a robot can grasp many kinds of object, i.e., a soft object, a fragile object, a slippery object and so on. Moreover, it is easy to manufacture, cheap (one sensor is almost $50), and physically robust.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Object Detection, Recognition &amp; Manipulation</strong><br />
We develop a cascade deep neural network of YOLO (You Only Look Once) and a conventional CNN, such as LeNet and AlexNet. YOLO is the real-time object detection neural network.<br />
Firstly, we use a pretrained YOLO for object detection and rough classification. Secondly, the CNN classifies object more precisely using outputs of YOLO. The merit of this cascade deep neural network is very fast learning. Because we just use a pretrained YOLO, only learn the data set using LeNet or AlexNet. The result of object recognition is shown in Fig.5. In the WRS2018,  we used only YOLO v3 and it could successfully detect the cores with the same training weights in our lab. as shown in Fig.7. Its object recognition accuracy is higher than YOLO v2. However, Yolo v3 cannot estimate a pose, we will use Mask R-CNN for object recognition and semantic segmentation.<br />
Secondly, the grasping point is calculated using point cloud data from the RGB-D sensor. The robot removes the planer and outlier from point cloud data, and calculates the centroid of clustering from point cloud corresponded object image area. This calculation uses Point Cloud Library (PCL). Finally, the robot calculates Inverse Kinematics from object center of gravity and grasp it.</p>
<p>[caption id="attachment_16062" align="aligncenter" width="300"]<a href="https://demura.net/wordpress/wp-content/uploads/2019/09/yolov2.png"><img class="wp-image-16062 size-medium" src="{{ site.baseurl }}/assets/images/2019/09/yolov2-300x222.png" alt="" width="300" height="222" /></a> Fig. 5 YOLO v2 + AlexNet[/caption]</p>
<p>[caption id="attachment_16053" align="aligncenter" width="300"]<a style="text-align: center;" href="https://demura.net/wordpress/wp-content/uploads/2019/09/objects2-1.png"><img class="wp-image-16053" src="{{ site.baseurl }}/assets/images/2019/09/objects2-1-233x300.png" alt="Fig.6 Object detection and recognition" width="300" height="386" /></a> Fig.6 Object detection &amp; recognition by YOLO v3[/caption]</p>
<p>[caption id="attachment_16064" align="aligncenter" width="300"]<a href="https://demura.net/wordpress/wp-content/uploads/2019/09/core.jpg"><img class="wp-image-16064 size-medium" src="{{ site.baseurl }}/assets/images/2019/09/core-300x209.jpg" alt="" width="300" height="209" /></a> Fig.7 Detection of toilet paper cores by YOLO v3[/caption]</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Speech Recognition, Synthesis and Sound Localization<br />
</strong>We have developed a speech recognition and a sound source localization system. The speech recognition system uses the <a href="http://kaldi-asr.org/">Kaldi </a>based <a href="https://github.com/alumae/kaldi-gstreamer-server">gstream server</a>. It is a real-time full-duplex speech recognition server, and it uses a DNN-based model for English trained on the TEDLIUM speech corpus.<br />
The sound source localization system is implemented using the robot auditory library <a href="http://www.hark.jp/">HARK</a>. The HARK easily be programmed by GUI as shown in Fig.8. The system takes multi-channel speech waveform data from the 8ch microphone array, calculates FFT and estimates the sound source direction by the MUSIC method.<br />
From 2019, we have been developing a new speech recognition system using the <a href="https://w3c.github.io/speech-api/speechapi.html">WebSpeechAPI </a>(online) and <a href="https://arxiv.org/abs/1412.5567">DeepSpeech</a> (offline).  For speech synthesis, we use <a href="https://github.com/arnaud-ramey/picotts">picotts</a>. It is a  lightweight ROS package for Text-to-Speech (TTS) generation. It is  a wrapper around popular  online and offline TTS engines. We use the MaryTTS engine for offline and Microsoft engine for online. For sound localization, ReSpeaker Mic Array V2.0 at Seed Studio is used.</li>
</ul>
<p>[caption id="attachment_16057" align="alignright" width="1024"]<a href="https://demura.net/wordpress/wp-content/uploads/2019/09/hark.png"><img class="size-large wp-image-16057" src="{{ site.baseurl }}/assets/images/2019/09/hark-1024x576.png" alt="" width="1024" height="576" /></a> Fig.8 HARK[/caption]</p>
<p>&nbsp;</p>
<ul>
<li><strong>Simulator</strong><br />
We have developed the Happy Mini and Happy Burger simulator using the Gazebo robot simulator as shown in Fig.9 and Fig.10. To make the 3D Happy Mini model in the simulator, we described the URDF (Universal Robot-ics Description Format) file and imported 3D meshes from the 3D CAD data. MoveIt! is easily applied to the 3D model described by the URDF.</p>
<p>[caption id="attachment_16058" align="aligncenter" width="618"]<a href="https://demura.net/wordpress/wp-content/uploads/2019/09/simulator.jpg"><img class="wp-image-16058 size-full" src="{{ site.baseurl }}/assets/images/2019/09/simulator.jpg" alt="" width="618" height="177" /></a> Fig.9 Simulator[/caption]</p>
<p>[caption id="attachment_16059" align="aligncenter" width="618"]<a href="https://demura.net/wordpress/wp-content/uploads/2019/09/burger_urdf.png"><img class="wp-image-16059" src="{{ site.baseurl }}/assets/images/2019/09/burger_urdf-1024x576.png" alt="" width="618" height="348" /></a> Fig.10 Happy Burger URDF robot model for simulator[/caption]</li>
<li><strong>Competition Results</strong>
<ul>
<li>This results are not only the Happy Robot team, but also the former team name the happy mini and WinKIT. Prof. Demura is an adviser of these team.</li>
<li><strong>World Robot Summit</strong>
<ul>
<li>WRS2018, Tokyo, Japan
<ul>
<li>Future Convenience Store Challenge</li>
</ul>
</li>
</ul>
</li>
<li><strong>RoboCup</strong>
<ul>
<li>2002
<ul>
<li>RoboCup 2002, Fukuoka/Busan [Middle Size League] 2nd place</li>
</ul>
</li>
<li>2003
<ul>
<li>RoboCup Japan Open 2003 [Middle Size League] 1st place</li>
<li>RoboCup 2003, Padova, Italy [Middle Size League] 2nd place</li>
</ul>
</li>
<li>2004
<ul>
<li>RoboCup Japan Open 2004 [Middle Size League] 2nd place</li>
<li>RoboCup 2004, Lisbon, Portugal [Middle Size League] 2nd place</li>
</ul>
</li>
<li>2006
<ul>
<li>RoboCup Japan Open 2006 [Middle Size League] 3rd place</li>
</ul>
</li>
<li>2007
<ul>
<li>RoboCup Japan Open 2007 [Middle Size League] 3rd place</li>
</ul>
</li>
<li> 2009
<ul>
<li>RoboCup Japan Open 2009
<ul>
<li>Middle Size League: 2nd place</li>
<li>Humanoid Kids Size: 3rd place</li>
</ul>
</li>
</ul>
</li>
<li>2010
<ul>
<li>RoboCup Japan Open 2010
<ul>
<li>Middle Size League: 2nd place</li>
<li>Humanoid Kids Size: 2nd place</li>
</ul>
</li>
</ul>
</li>
<li> 2011
<ul>
<li>RoboCup Japan Open 2011 [Middle Size League] 3rd place</li>
</ul>
</li>
<li>2012
<ul>
<li>RoboCup Japan Open 2012
<ul>
<li>Middle Size League: 2nd place</li>
<li>Humanoid Kids Size: 2nd place</li>
<li>@Home Real Robot League: Lost in a preliminary round</li>
</ul>
</li>
</ul>
</li>
<li>2013
<ul>
<li>RoboCup Japan Open 2013
<ul>
<li>Middle Size League: 2nd place</li>
<li>Humanoid Kids Size: 3rd place</li>
<li>@Home Real Robot League: Lost in a preliminary round</li>
</ul>
</li>
</ul>
</li>
<li>2014
<ul>
<li>RoboCup Japan Open 2014
<ul>
<li>@Home Real Robot League: 8th place</li>
<li>@Home  Simulation League: 3rd place (Team name: Yumekobo Junior)</li>
</ul>
</li>
</ul>
</li>
<li>2015
<ul>
<li>RoboCup Japan Open 2015
<ul>
<li>@Home Real Robot League: 5th place</li>
<li>@Home  Simulation League: 5th place</li>
</ul>
</li>
<li>RoboCup 2015, Heifei,  China
<ul>
<li>@Home: 9th place</li>
</ul>
</li>
</ul>
</li>
<li>2016
<ul>
<li>RoboCup Japan Open 2016
<ul>
<li>@Home Education: 1st place</li>
</ul>
</li>
<li>RoboCup 2016, Leipzig, Germany
<ul>
<li> @Home: 8th place</li>
</ul>
</li>
</ul>
</li>
<li>2017
<ul>
<li>RoboCup Japan Open 2017
<ul>
<li>@Home Open Platform League: 4th place</li>
</ul>
</li>
<li>RoboCup 2017, Nagoya, Japan
<ul>
<li>@Home Open Platform: 9th place</li>
</ul>
</li>
</ul>
</li>
<li>2018
<ul>
<li>RoboCup 2018, Montreal, Canada
<ul>
<li>@Home Open Platform: 5th place</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<p><sup id="fn1">[1] Happy mini, our human support robot, is the 3rd place in sympathy and 5th place in design rating in the @Home league in RoboCup2016 Leipzig by the research of Eva Jahn as shown in this web site. Many wonderful robots, such as Pepper, HSR, R1, SocRob, Amigo, Tiago and so on, participated in RoboCup@Home2016.<a title="Jump back to footnote 1 in the text." href="#ref1">&#x21a9;</a></sup></p>
