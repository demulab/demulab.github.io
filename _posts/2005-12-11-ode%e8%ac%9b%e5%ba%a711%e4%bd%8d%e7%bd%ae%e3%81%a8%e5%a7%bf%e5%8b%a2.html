---
layout: post
title: ODE講座11:位置と姿勢
date: 2005-12-11 10:31:01.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ode
tags: []
meta:
  _edit_last: '2'
  views: '1506'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/9ode/265.html"
---
<p>ODE(Open Dynamcs Engine)講座の第１１回目です。今までの講座でODEの基本を簡単に説明しましたが、基本的なことで忘れていたことを今回説明します。それは、剛体の姿勢を設定する方法です。</p>
<p><!--more--></p>
<p>剛体を３次元空間上に設定するためには、位置と姿勢を指定してあげる必要があります。姿勢は回転変換行列で決めることができ、ODEでも以下のAPIにより設定可能です。</p>
<p><strong>dRFromAxisAndAngle (dMatrix3 R, dReal ax, dReal ay, dReal az, dReal angle);</strong> /* R:回転変換行列; ax,ay,az:回転軸ベクトル; angle：回転角(rad) */<br />
 <strong>dBodySetRotation (dBodyID, const dMatrix3 R); </strong> /* dBodyID:ボディのID番号 */</p>
<p>dRFromAxisAndAngleで回転軸ベクトルと回転角から３ｘ３行列の回転変換行列Rを取得でき、その回転変換行列と設定したいボディ（剛体）にdBodySetRotationにより姿勢を設定できます。また、ＯＤＥではこのほかにクオータニオンに関するAPIもあります。</p>
<p>なお、ロボット等のリンクの初期姿勢はできるだけｘ、ｙ、ｚ軸のいずれかと平行にとった方がわかりやすいので、関節が中途半端に曲がった姿勢を基準とすることはお勧めできません。</p>
<p>今回はこれで終わります。<a name="func_dQFromAxisAndAngle"></a></p>
