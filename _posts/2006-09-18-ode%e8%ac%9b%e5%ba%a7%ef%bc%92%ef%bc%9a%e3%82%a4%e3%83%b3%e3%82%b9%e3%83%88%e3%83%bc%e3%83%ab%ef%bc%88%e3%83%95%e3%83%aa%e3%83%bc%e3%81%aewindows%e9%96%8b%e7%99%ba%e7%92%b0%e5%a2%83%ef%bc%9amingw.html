---
layout: post
title: ODE講座２：インストール（フリーのWindows開発環境：MinGW)
date: 2006-09-18 18:39:52.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ode
tags: []
meta:
  _edit_last: '2'
  views: '3133'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/9ode/326.html"
---
<p><img src="{{ site.baseurl }}/assets/images/2006/09/test_crashs.jpg" alt="" /></p>
<p>ODE付属テストプログラムtest_crash.exe</p>
<p>ゲーム開発やロボットの研究者にも使われているオープンソースの物理計算エンジンODE(Open Dynamics  Engine、オープン ダイナミクスエンジン）を学ぶODE講座の２回目です。</p>
<p>今回はＯＤＥ (Open Dynamics Engine)の最新バージョン0.8のインストールについて説明します。ODEはマルチプラットフォームなのでWindows、Linux、Mac OS Xでも利用可能です。</p>
<p>今回はWindows環境でしかもインストールがもっとも簡単なMinGW環境を使った方法を説明します。ODEの最新バージョン0.8はWindowsのフリーの開発環境Cygwinではテストプログラムをコンパイルできません。</p>
<p>MinGWはCygwinの ようにLinuxとの互換性は高くありませんが、150MBもディスクに空きがあればインストール可能ですし、バイナリを実行するときに特別なライブラリ が必要なくGPLで配布する必要もない（注１）ので重宝します。そのうえ、gcc、make、gdbなどのLinuxで標準的な開発ツールを使うことができます。</p>
<p>注１：Cygwinで作成したバイナリはcygwin1.dllを使うので、これも同時に配布しなければならない。これはGPLなので自分の作成したプロ グラムもGPLで配布しなければいけないのです。</p>
<p>では、以下について図とリンク付きで詳しく説明していきます。</p>
<ol>
<li><a href="http://www.mingw.org/" target="_self">MinGW</a>のインストール（開発環境）</li>
<li><a href="http://www.mingw.org/msys.shtml" target="_self">MSYS</a>のインストール(MinGWを利用するためのシステム）</li>
<li>ODEのインストール</li>
</ol>
<hr /><span style="font-size: medium;"><strong>0.  ユーザーアカウント名のチェック</strong></span></p>
<p>これからインストールするMinGW+MSYS 環境ではユーザーアカウント名が日本語の場合、フォルダの一部が文字化けし作業がうまくいきません。</p>
<p>「コントロールパネル」→「ユーザアカウント」でアカウントが英語になっているか確認してください。日本語の場合は「新しいアカウントを作成する」で英語のアカウントを作成してください。その際、スペースなどはいれないでください。なお、「アカウントを変更する」でアカウント名を変更してもフォルダー名は変わらないのでだめです。必ず、新規の英語（苗字または氏名のローマ字が良いでしょう）のアカウントを作成してください。</p>
<p><!--more--></p>
<h1>1. MinGWのインストール</h1>
<ul>
<li> <span style="font-size: 10pt"><a href="http://prdownloads.sourceforge.net/mingw/">http://prdownloads.sourceforge.net/mingw/</a></span><span style="font-size: 10pt">から<a href="http://prdownloads.sourceforge.net/mingw/MinGW-5.1.0.exe">MinGW-5.1.0.exe</a>を ダウンロードします．日本のJAISTサイトからダウンロードするのがよいでしょう。この際、 間違ってJAISTのロゴをクリックするとJAISTのホームページへ飛んでしまいます。一番右のDownloadの文字をクリックして適当なところ（私 のお勧めはc:\temp）にダウンロードしてください。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/jaist.jpg" alt="" /></p>
<ul>
<li> <span style="font-size: 10pt">デスクトップにあるMinGW-5.1.0.exeをダブルクリックすると以下のウインドウが現れます。Nextをクリックして次に進む。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW1.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Download and Install</span><span style="font-size: 10pt">にチェックをいれNextをクリック</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW2.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">License</span><span style="font-size: 10pt">Agreementの画面が出ますのでライセンスに同意するなら Ｉ Ａgreeをクリック。当然ですが、同意しない場合はインストールできません。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW3.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">どのパッケージを選ぶが聞いてきます．Current(現在のバージョン)にチェックをいれNextをクリック．</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW4.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">必要なコンポーネントを選択します．インストールをCustomにし，MinGW base tools，g++ compiler, MinGW Makeにチェックをいれ，Nextをクリック．</span><span style="color: #ff0000;"><strong>この3個のコンポーネントを選択しなければコンパイルができないのでチェックが確実に入っているか確認してください。</strong></span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW5.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">インストールする場所を聞いてきます．このままでよいのでNextをクリック．なお，インストールにはハードディスクに58.5MBの空き領域が必要です．</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW6.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">スタートメニューフォルダーの選択を聞いてきます．このままInstallをクリック</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW7.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">ダウンロードとインストールが始まり、インストールが終わると次の画面のようにInstallation Completeの表示になります．Nextをクリック</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW9.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Finish</span><span style="font-size: 10pt">をクリックしてインストール作業を終了しましょう．次はMSYSをインストールしましょう。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MinGW10.jpg" alt="" /></p>
<h1><strong>2. MSYSのインストール </strong></h1>
<ul>
<li><span style="font-size: 10pt">MSYS</span><span style="font-size: 10pt">はMinimal Systemの略でMinGWを使いやすくするために必要な最小限のシステムです。MinGWと同様に<a href="http://prdownloads.sourceforge.net/mingw/" target="_self">http://prdownloads.sourceforge.net/mingw/</a>から<a href="http://prdownloads.sourceforge.net/mingw/MSYS-1.0.10.exe" target="_self">MSYS-1.0.10.exe</a>をダウンロードしてデスクトップに置いてください。MSYS-1.0.10.exeをダブルクリックすると次のウインドウが開きます。「はい」をクリックして次へ進む。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS1.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Welcome to the "Minimal System" Setup Wizard</span><span style="font-size: 10pt">の画面が開くのでNextをクリック。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS2.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">License agreement</span><span style="font-size: 10pt">を読んでOKならYesをクリック。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS3.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Information</span><span style="font-size: 10pt">を読んだらNextをクリック。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS4.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Setup</span><span style="font-size: 10pt">の画面になります．インストール先を変更せずにNextをクリック．インストールには少なくとも6MBの空き領域が必要です．</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS5.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Select components</span><span style="font-size: 10pt">の画面になるので何もせずにNextをクリック。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS6.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Select Start Menu Bar</span><span style="font-size: 10pt">の画面になります。なにもせずにNextをクリック。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS7.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">Ready to Install</span><span style="font-size: 10pt">の画面になり、これからハードディスにインストールします。Installをクリック。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS8.jpg" alt="" /></p>
<ul>
<li> 以下の画面のようにインストールが１００％になると，その下の図のようなコマンドプロンプトウインドウが開きます．</li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS9.jpg" alt="" /></p>
<ul>
<li>
<p class="MsoNormal" align="left">以下のように答えてください．</p>
<p class="MsoNormal" align="left"><span style="font-size: 10pt">Do you wish to continue with the post intsll?[Yn] </span><span style="color: #ff0000;"><strong>y</strong></span><strong>キーを押す</strong><br />
Do you have MinGW installed [Yn]<span style="color: #ff0000;"> <strong>y</strong></span><strong>キーを押す<br />
</strong>Please answer the following in the form of c:/foo/bar<br />
Where is your MinGW installation?<span style="color: #ff0000;"><strong>C:/mingw</strong></span><strong>とタイプしてEnterキーを押す。<span style="color: #0033ff;">ここで間違ってC:￥mingwとタイプしてインストールに失敗するケースが良くあります。C:の後は￥ではなくスラッシュ/なので注意しましょう。</span></strong></p>
<p class="MsoNormal" align="left">
<img src="{{ site.baseurl }}/assets/images/2006/09/MSYS10.jpg" alt="" /></p>
</li>
<li><span style="font-size: 10pt">これでインストールが終わりです。Finishをクリックしましょう。</span></li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS11.jpg" alt="" /></p>
<ul>
<li><span style="font-size: 10pt">インストールが正常に終わると。デスクトップ上にMSYSのアイコンが追加されます。それをダブルクリックすると以下のMINGW32ターミナルが開きます。　これでMSYSのインストール作業は終わりです</span>。</li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/MSYS12.jpg" alt="" /></p>
<h1><strong></strong><strong>3. ODE0.9のインストール</strong></h1>
<h1><strong>ダウンロード</strong></h1>
<p class="MsoNormal" align="center">
<ul>
<li><a href="http://sourceforge.net/projects/opende">ここをクリックして</a>sourceforge.netのOpen Dynamics Engineのページ飛ぶと以下の画面になります。中ほどの赤丸で囲んだDownload Open Dynamics Engineのバナーをクリックします。</li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/sourceForge1.jpg" alt=" " width="500" height="442" /></p>
<p>すると次の画面になるので、下の方にある赤丸で囲んでいるode-src-0.9.zipをクリックするとダウンロードが始まります。</p>
<p><img src="{{ site.baseurl }}/assets/images/2006/09/sourceForge2.jpg" alt=" " /></p>
<ul>
<li>ダウンロード先はc:\msys\1.0\home\ユーザ名\srcの下にしてください．srcフォルダーがない場合はエクスプローラーでc:\ msys\1.0\home\ユーザ名へ移動し，右マウスボタンをクリックし，[新規作成(<span style="text-decoration: underline;">W</span>)→フォルダ(<span style="text-decoration: underline;">F</span>)]を選びsrcフォルダーを作成してください．</li>
</ul>
<p><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong><span style="font-size: 10pt">インストール</span></strong></p>
<ul>
<li>ode-src-0.9.zipはzipで圧縮されていますのでzipを解凍できるソフトウェアをインストールしてください．ここでは，Lhaplusという圧縮・解凍ソフトを使っています．<a href="http://www.google.co.jp/" target="_self">Google</a>でLhaplusを検索するとダウンロード先を簡単に見つけることができます．<br />
<span style="font-size: 10pt"><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong><br />
<img src="{{ site.baseurl }}/assets/images/2006/09/download2s.jpg" alt="" /><br />
</strong></span></li>
</ul>
<ul>
<li>これからの作業はUNIXのコマンドを使いますが，知らないあなたも例のとおり入力してください。</li>
</ul>
<p>アイコンをダブルクリックしてMINGW32ターミナルを開きます。以下のコマンドはこのターミナルで実行してください。</p>
<p>2  srcフォルダーへ移動<br />
$<strong>cd</strong><strong>□src　リターンキー</strong>（$はプロンプトなので打ち込まない，□はスペースです）</p>
<p><strong>3. ode-0.9  ディレクトリへ移動</strong><br />
$<strong>cd□ode-0.9　リターンキー</strong></p>
<p><strong>4.  コンパイルの準備<br />
$</strong><strong>./configure</strong><strong>□--enable-double-precision  リターンキー</strong>（/の前のピリオドを忘れないで）</p>
<p>5. コンパイル<br />
$<strong>make</strong> <strong>リターンキー</strong></p>
<p><strong>makeに成功すると以下のように表示されます。<br />
<img src="{{ site.baseurl }}/assets/images/2006/09/odeMakes.jpg" alt="" /></p>
<p></strong></p>
<p class="MsoNormal" align="left"><strong></strong><strong>6. インストール</strong><br />
$<strong>make□</strong><strong>install リターンキー</strong></p>
<p><strong></strong><strong>テスト</strong><br />
$<strong>cd</strong><strong>□ ode/demo　リターンキー<br />
</strong>$<strong>./demo_crash </strong><strong>リターンキー</strong>（/の前のピリオドを忘れないで）</p>
<p><strong>ロボコンマガジンではbuggyで遊びましたが、ここではより面白いdemo_crashで遊びます。<br />
上のコマンドが成功するとSimulation test environment v0.02のウインドウが開き以下の画面が表示されたら成功です。ごくろうさま！遊び方はDrawStuff Messageに表示されていますのでそれに従って遊んでください。</strong></p>
<p><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong><span style="font-size: 10pt"><br />
<img src="{{ site.baseurl }}/assets/images/2006/09/test_crashs.jpg" alt="" /></p>
<p></span></strong><span style="font-size: 10pt">砲弾で破壊されるブロック</span><strong></strong><strong><span style="font-size: 10pt"><br />
</span></strong></p>
<p><strong> </strong><strong></strong><strong></strong><strong></strong><strong><br />
</strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong>おしまい。 </strong></p>
<p><strong></strong><strong>更新ログ</strong></p>
<ul>
<li><strong>2007-12-4:  ODE0.9に対応</strong></li>
<li><strong>2007-2-12:  ODE0.8に対応</strong></li>
</ul>
