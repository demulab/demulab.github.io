---
layout: post
title: ODE講座15：PlayStation3でODEを動かそう！
date: 2007-01-06 16:46:14.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ode
tags: []
meta:
  _edit_last: '2'
  views: '531'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/9ode/361.html"
---
<p>ODE (Open Dynamics Engine)講座の15回目となりました。今回はお正月企画として、お年玉で購入した？　PlayStation 3 (プレーステーション３、PS3）にLinuxをインストールしODEを動かすまでの方法を紹介したいと思います。</p>
<p>Linxuのディストリビューションにはマニアにブレーク中のMomonga Linuxを使います。Momonga LinuxはPlayStation3にインストールする具体的な方法を紹介した以下のホームページがあります。</p>
<ul>
<li> <a href="http://developer.momonga-linux.org/wiki/?PS3">PS3でMomonga Linuxを動かすための情報について</a></li>
</ul>
<p>１．準備</p>
<ul>
<li> PS3にLinux用のハードディスク領域を割り当てる。ここではLinux用に10MB、ゲーム用に50MB割り当てます。領域の割り当てが柔軟ではなく、これ以外はLinux用に50MB、ゲーム用に10MBとなります。Linuxでは外付けのUSBハードディスクを利用できるのでゲームで遊びたい方はこの割り当てが良いでしょう。<a href="http://cell.fixstars.com/ps3linux/index.php/PS3_Linux%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%8F%E3%83%BC%E3%83%89%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF%E3%81%AE%E8%A8%AD%E5%AE%9A">具体的な方法はこのページをご覧ください。</a></li>
<li>Momonga Linux DVD イメージを<a href="http://dist.momonga-linux.org/pub/momonga/test/PS3/">ここからダウンロードして</a>DVDに焼く。</li>
<li>ＵＳＢメモリ、ＵＳＢキーボード、ＵＳＢマウス</li>
<li>OtherOSインストーラー。<a href="http://www.playstation.com/ps3-openplatform/jp/manual.html">ここからダウンロードする。</a></li>
</ul>
<p><!--more--></p>
<p>２．ブートローダーのインストール</p>
<ul>
<li> FIXSTARSの「<a href="http://cell.fixstars.com/ps3linux/index.php/PS3_Linux%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%96%E3%83%BC%E3%83%88%E3%83%AD%E3%83%BC%E3%83%80%E3%83%BC%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B">PS3 Linuxのためのブートローダーをインストールする</a>」 にしたがってインストールします。ＵＳＢメモリに所定のファイル達をコピーします。ブートローダーにはothteros.bldは１で準備した Momonga Linux DVDのPS3/boot/otheros.bldを使います。ただし、Linux DVDはWindowsのエクスプローラーでは読めないのでLinuxで読む必要があります。</li>
</ul>
<p>３．インストール</p>
<ul>
<li>PS3にMomonga Linux DVDを入れ起動します。</li>
<li>「kboot：」と表示されたらエンターキーを押してください。インストールが始まります。</li>
<li>CD Foundの画面になり、メディアチェックするかどうか聞かれます。私の場合は「skip」で先に進みました。</li>
<li>Momongaの画面になり、「Welcome to Momonga!」と表示されます。「OK」を選択。</li>
<li>Language Selectionの画面になり、インストールプロセスで何語を選ぶか聞かれます。Japaneseを選び「ＯＫ」を選択。</li>
<li>Language Unavailableの画面になり、インストール時は日本語は使えないので「ＯＫ」を選択。</li>
<li>Warningの画面になり、sdbが読めないので初期化しますか？と聞いてきます。OKを選択。</li>
<li>Partitioning Typeの画面になります。ここでは「Remove all partitions on selected  drives and create default layout]とインストール先に「sda」だけを選び「ＯＫ」を選択。このとき、sdbやsddの前に「*」がついていたら、初期化され全てデータが消 えてしまいますので、「*]を消してください。なお、私の場合はUSBメモリはsddとして認識されていました。</li>
<li>Warningの画面になり、/dev/sdaの全てのパーティションを削除するか聞いてきますので「Yes」を選択。このとき、sdb、sddの表示があれば、それらも削除されますので「No」を選択しチェックを外してください。</li>
<li>Review Partition Layoutの画面になり、レイアウトを見るか聞いてきますので「Yes」を選択。以下のように表示されました。標準ではswapが415Mしかなかったので1027MBに変更しました。<br />
 Start  End      Size     Type    Mount Point<br />
 変更前<br />
 sda1      1      13       101M     ext3      /boot<br />
 sda2     14  1252    9719M     ext3      /<br />
 sda3    1253 1305    415M    swap<br />
 変更後<br />
 sda1      1      13       101M     ext3      /boot<br />
 sda2     14  1174    9107M     ext3      /<br />
 sda3    1175 1305  1027M    swap</li>
<li>Low Mmoeryの画面になり、swap spaceをオンにするか聞いてきますので「Yes」を選択、「No」を選択するとインストールが終了します。</li>
<li>Network Configuration for eth0の画面になり、デフォルトのままで「OK」を選択。</li>
<li>Hostname Configurationの画面になり、DHCPを使うのでデフォルトのままで「ＯＫ」を選択。</li>
<li>Time Zone Selectionの画面になり、「Asia/Tokyo」を選び、「ＯＫ」を選択。</li>
<li>Root Passwordの画面になり、ルートのパスワードを入れます。</li>
<li>Package selectionの画面になり、私の場合は以下を選び、「ＯＫ」を選択。</li>
</ul>
<ul>
<li>Software Development</li>
<li>Customoze software selection</li>
</ul>
<li>Linux用の領域が9Gしかないので以下のパッケージを選択しました。</li>
<ul>
<li>Administration Tools</li>
<li>Development Tools</li>
<li>Editors</li>
<li>Engineering and Scientific</li>
<li>GNOME Desktop Environment</li>
<li>GNOME Software Development</li>
<li>Games and Entertainment</li>
<li>Graphical Internet</li>
<li>Graphics</li>
<li>Legacy Software Development</li>
<li>PS3 Development</li>
<li>PS3 Support</li>
<li>Sound and Video</li>
<li>System Tools</li>
<li>X Software Development</li>
<li>X Window System</li>
<li>XFCE</li>
<li>XFCE Software Development</li>
</ul>
<li>Dependency Checkの画面になり、パッケージの依存性をチェックします。５分程度かかりました。</li>
<li>Installation to beginの画面になります、「ＯＫ」を選択。</li>
<li>Package Installationの画面になり、パッケージのインストールが始まります。私の場合は全部で2898MB、インストール完了までの時間は約７０分でした。PS3搭載の2.5インチのハードディスクは遅いです。</li>
<li>Post Installの画面になり、自動的にインストール後の処理を実行し、「cannot determine current run level」と表示され、boot loaderと表示されます。</li>
<li>Completeの画面になり、「Congratulations, your Momonga installation is complete.」と表示されDVDがイジェクトされます。「Reboot」を選択しエンターキーを押すと再起動します。</li>
<li>momonga linuxが起動しSetup Agentの画面になりますが、特に設定を変更しないのでそのままほおっておくと以下のメッセージが出ます。これでインストールはうまくいきました。<br />
 Momonga Linux release 3 (Mikuru)<br />
 Kernel 2.6.16-lmps3 on an ppc64<br />
 localhost login:</li>
<p>4. インストール後の作業</p>
<ul>
<li>そのままではXが起動しないので、momonga のDVDにあるPS3/etc/xorg.confを/etc/X11/xorg.confにコピーします。DVDは自動的にマウンドされないので以下のコマンドを使い手動でマウンドしコピーします。<br />
 cd    /media<br />
 mkdir    cdrom<br />
 mount  -t  iso9660    /dev/cdrom    cdrom<br />
 cp   /media/cdrom/PS3/etc/xorg.conf      /etc/X11/xorg.conf</li>
<li>Ｘを以下のコマンドで起動するとかわいいMomongaの絵が現れX Windowが立ち上がります。<br />
 startx</li>
<li>ウインドウマネージャはgnomeとなります。高解像度でX Windowを立ち上げるために/etc/kboot.confの一行目をご自分の環境に合わせて書き換えます。フルHDをお持ちの方は１行目を次のように書き換え、<br />
 default=momonga1080p<br />
 一番最後に以下の追加しリブートします。<br />
 momonga1080p='/dev/sda1:/vmlinuz-2.6.16-lmps3 initrd=/dev/sda1:/initrd-2.6.16-lmps3.img video=ps3fb:mode:5 rhgb'</li>
<li>高解像度で表示されますが、私の環境では画面一杯ではなく左右4cm、上下2cm程度表示されません。解像度を調べたところ1688x964でした。</li>
<li>次にキーボードの設定をします。GNOMEの足アイコンをクリックし、System Tools→Keyboardを選びJapaneseを選択し「ＯＫ」をクリックします。</li>
<li>同じく　System Tools→Languageを選びJapaneseを選択し「ＯＫ」をクリックします。再起動するとシステムフォントが日本語になります。</li>
<li><a href="http://developer.momonga-linux.org/wiki/?PS3">yumの設定</a></li>
</ul>
<ul>
<li>yum install  system-tools-backend</li>
<li>yum install  net-tools</li>
</ul>
