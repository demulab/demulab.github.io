---
layout: post
title: ODEのよく見かけるエラー
date: 2008-02-08 09:23:28.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ode
- ODE本
tags: []
meta:
  _edit_last: '2'
  views: '6920'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/9ode/484.html"
---
<p>講義でＯＤＥに関する演習をやってみて学生のプログラムで良く見かけるエラーメッセージとその対策を紹介します。</p>
<ol>
<li><strong>bounce.cpp: In function `void makeBall()':<br />
bounce.cpp:70: error: `radius' undeclared (first use this function)<br />
bounce.cpp:70: error: (Each undeclared identifier is reported only once for each function it appears in.)<br />
make: *** [bounce.o] Error 1</strong><br />
70行目のradiusが宣言されていません(undeclared)。この関数で初めて使われています。<br />
radiusをどこかで宣言してください。または，スペルミスの可能性もあります。</li>
<li> <strong>../../include/ode/mass.h:63: error: too few arguments to function `void dMassSetCylinderTotal(dMass*, dReal, int, dReal, dReal)'<br />
bounce.cpp:78: error: at this point in file<br />
make: *** [bounce.o] Error 1</strong><br />
引数(argumen)の数が足りないというエラーです。dMassSetCylinderTotalをODE本で調べましょう。3番目の引数は円柱の長軸方向です。姿勢を指定しないと長軸方向がZ軸なので，その場合は３を代入します。</li>
<li> <strong>bounce.cpp: In function `void makeBall()':<br />
bounce.cpp:70: error: 'struct MyObject' has no member named 'sides'<br />
make: *** [bounce.o] Error 1</strong><br />
MyObject構造体(struct)のメンバー(member)にsidesがないという意味です。構造体の宣言と70行目の変数を確認しましょう。</li>
<li> <strong>bounce.cpp: In function `void simLoop(int)':<br />
bounce.cpp:59: error: cannot convert `double' to `const double*' for argument `3' to `void dsDrawBoxD(const double*, const double*, const double*)'<br />
make: *** [bounce.o] Error 1<br />
</strong></p>
<p>doubleをconst double *へ変換できないと怒っています。具体的には，ｋdsDrawBoxDの３番目の引数(argument)の使い方が間違っています。それにはconst doubleへのポインタを入れてください。<br />
なお，ODE本で調べると３番目の引数はconst float sides[3]になっています。これは配列へのポインタを入れなさいということです。つまり，直方体の３辺が格納されている配列名を入れてください。配列名は配列が格納されている先頭アドレスでしたね。</li>
<li> <strong>ODE INTERNAL ERROR1 assertion "dMassCheck(mass)" failed in dBodySetMass() [ode.cpp] </strong><br />
これはソースコードの文法には間違いがありません。dBodySetMass()でボディに質量パラメータを設定するわけですが，このエラーは質量パラメータの計算に問題があります。たとえば，dMassSet***Total()の引数になる質量や半径，長さなどの変数を初期化しないで使っていたり，あるいは間違って0などを代入していませんか？</li>
</ol>
