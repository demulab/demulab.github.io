---
layout: post
title: OpenCV 1.0　（Code::Blocks+Windowsでの設定）
date: 2008-11-30 11:34:29.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- misc
tags: []
meta:
  views: '2069'
  _edit_last: '2'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/misc/2884.html"
---
<p>[caption id="attachment_2910" align="alignnone" width="341" caption="image.cppの実行結果．カメラの画像を表示する簡単なプログラム．"]<a href="http://demura.net/wordpress/wp-content/uploads/2008/11/bear.jpg"><img class="size-full wp-image-2910" title="bear" src="{{ site.baseurl }}/assets/images/2008/11/bear.jpg" alt="image.cの実行結果" width="341" height="284" /></a>[/caption]</p>
<p>OpenCV1.0をCode::Blocksで使うための個人的なメモです．ODEも便利ですが，OpenCVも便利ですね．ちなみに，OpenCVはコンピュータビジョン用のライブラリです．</p>
<p><strong>A. Code::Blocksの設定</strong></p>
<ol>
<li>Code::Blocks 8.02の起動．</li>
<li>includeパスの設定<br />
 設定(S)→コンパイラとデバッガ(C)<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb1.jpg"><img class="alignnone size-medium wp-image-2880" title="cb1" src="{{ site.baseurl }}/assets/images/2008/11/cb1-300x174.jpg" alt="" width="300" height="174" /></a><br />
 グローバルなコンパイラ設定のウインドウで，ディレクトリの検索→コンパイラに以下を追加する．<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb2.jpg"><img class="alignnone size-medium wp-image-2881" title="cb2" src="{{ site.baseurl }}/assets/images/2008/11/cb2-300x192.jpg" alt="" width="300" height="192" /></a></p>
<p><br class="spacer_" /></p>
<ul>
<li>
<pre>C:\Program Files\OpenCV\cv\include</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\cvaux\include</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\cxcore\include</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\otherlibs\highgui</pre>
</li>
</ul>
</li>
<li>libパスの設定<br />
 上のウインドウで，ディレクトリの検索→リンカに以下を追加する．<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb3.jpg"><img class="alignnone size-medium wp-image-2882" title="cb3" src="{{ site.baseurl }}/assets/images/2008/11/cb3-300x265.jpg" alt="" width="300" height="265" /></a></p>
<p><br class="spacer_" /></p>
<ul>
<li>
<pre>C:\Program Files\OpenCV\lib</pre>
</li>
</ul>
</li>
<li>リンカの設定<br />
 「設定(S)」→「コンパイラとデバッガ(C)」のグローバルなコンパイラ設定のウインドウで，「リンカの設定」に以下を追加する．<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb-linker1.jpg"><img class="alignnone size-medium wp-image-2909" title="cb-linker1" src="{{ site.baseurl }}/assets/images/2008/11/cb-linker1-300x265.jpg" alt="" width="300" height="265" /></a><a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb-linker.jpg"><br />
 </a></p>
<p><br class="spacer_" /></p>
<ul>
<li>
<pre>C:\Program Files\OpenCV\lib\cv.lib</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\lib\cvaux.lib</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\lib\cvcam.lib</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\lib\cvhaartraining.lib</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\lib\cxcore.lib</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\lib\cxts.lib</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\lib\highgui.lib</pre>
</li>
<li>
<pre>C:\Program Files\OpenCV\lib\ml.lib</pre>
</li>
</ul>
</li>
</ol>
<p><strong>B. プログラムの作成</strong></p>
<ol>
<li>Code::Blocksの起動．</li>
<li>ファイル(F)→新規→プロジェクト<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb4.jpg"><img class="alignnone size-medium wp-image-2888" title="cb4" src="{{ site.baseurl }}/assets/images/2008/11/cb4-300x236.jpg" alt="" width="300" height="236" /></a></li>
<li>Console applicationを選択して，Goをクリック．<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb5.jpg"><img class="alignnone size-medium wp-image-2889" title="cb5" src="{{ site.baseurl }}/assets/images/2008/11/cb5-300x219.jpg" alt="" width="300" height="219" /></a></li>
<li>以下の画面になるので，次へ(N)クリック<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb6.jpg"><img class="alignnone size-medium wp-image-2890" title="cb6" src="{{ site.baseurl }}/assets/images/2008/11/cb6-300x243.jpg" alt="" width="300" height="243" /></a></li>
<li>CかC++のどちらかを選択するよう聞かれるのでC++を選択し，「次へ(N)」をクリック<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb7.jpg"><img class="alignnone size-medium wp-image-2891" title="cb7" src="{{ site.baseurl }}/assets/images/2008/11/cb7-300x241.jpg" alt="" width="300" height="241" /></a></li>
<li>次の画面が開くので以下の項目を入力し，「次へ」をクリック．<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb8.jpg"><img class="alignnone size-medium wp-image-2892" title="cb8" src="{{ site.baseurl }}/assets/images/2008/11/cb8-300x242.jpg" alt="" width="300" height="242" /></a><br />
 プロジェクトタイトル:sample1</p>
<p><br class="spacer_" /></p>
<p>プロジェクトを作成するフォルダ:</p>
<pre> c:\Users\ユーザ名\Documents\src\opencv\myprog</pre>
<p>プロジェクトファイル名:sample1.cbp</p>
<p>出力ファイル名:</p>
<pre>c:\Users\ユーザ名\Documents\src\opencv\myprog\sample1\sample1.cbp</pre>
</li>
<li>次の画面が開くので以下の項目を入力し，「次へ」をクリック．<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb9.jpg"><img class="alignnone size-medium wp-image-2893" title="cb9" src="{{ site.baseurl }}/assets/images/2008/11/cb9-300x242.jpg" alt="" width="300" height="242" /></a><br />
 コンパイラはGNU GCC Compilerを選択<br />
 Debug設定を作成にチェックを入れる.</p>
<p><br class="spacer_" /></p>
<pre> 出力ディレクトリ：　.\ </pre>
<pre> オブジェクト出力ディレクトリ: .\ </pre>
</li>
<li>
<p>sample1→Sources→main.cppにOpenCVプログラミングブックのサンプルプログラムimage.cppをカットアンドペースで貼り付け保存しましょう．サンプルプログラムは<a href="http://book.mycom.co.jp/support/bookmook/opencv/">OpenCVプログラミングブックサポートサイト</a>からダウンロードできます．<span class="Apple-style-span" style="border-collapse: separate; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; font-family: 'ms pgothic'; color: #000000;">書籍掲載のコード集：cv_prog.zip</span> の中にimage.cppがあります．<br />
 <a href="http://demura.net/wordpress/wp-content/uploads/2008/11/cb10.jpg"><img class="alignnone size-medium wp-image-2894" title="cb10" src="{{ site.baseurl }}/assets/images/2008/11/cb10-300x213.jpg" alt="" width="300" height="213" /></a></p>
</li>
<li>USBカメラをコンピュータに接続します．ドライバが必要なカメラは付属の説明書に従ってインストールしてください． では，実行しましょう．ビルド(B)→ビルドして実行(L)でウインドウが開き，カメラの画像が表示されたら成功です．
<p>お疲れさま．</p>
</li>
</ol>
