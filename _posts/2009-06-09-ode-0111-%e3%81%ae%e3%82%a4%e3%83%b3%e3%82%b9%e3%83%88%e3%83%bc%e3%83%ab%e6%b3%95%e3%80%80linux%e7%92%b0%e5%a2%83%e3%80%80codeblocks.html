---
layout: post
title: ODE 0.11.1 のインストール法　(Linux + Code::Blocks)
date: 2009-06-09 00:03:27.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ode
- ODE本
tags:
- ODE
meta:
  syntaxhighlighter_encoded: '1'
  _edit_last: '2'
  views: '11282'
  image: http://demura.net/wordpress/wp-content/uploads/2009/06/odelogo3.jpg
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/9ode/3902.html"
---
<p><a href="http://demura.net/wordpress/wp-content/uploads/2009/06/odelogo3.jpg"><img class="alignnone size-full wp-image-3908" title="odelogo3" src="{{ site.baseurl }}/assets/images/2009/06/odelogo3.jpg" alt="odelogo3" width="200" height="62" /></a></p>
<p>2009年5月24日にリリースされたODE0.11.1のインストール法を説明します．ここでは日本であまりメジャーではありませんが，海外ではユーザが多く私の講義でも利用しているマルチプラットフォームの開発環境Code::Blocks8.02用の記事です．</p>
<p>OSはLinuxのUbuntu8.04を使います。Ubuntuを使うとWindowsと同様な操作でプログラムのビルドが可能です。</p>
<ol>
<li>準　備
<ul>
<li>g++, OpenGL, premakeがインストールされていない場合は、まず、それらを準備しましょう。Ubuntuの場合，標準では入っていないので以下の操作が必要になります。</li>
<li>g++のインストール
<ul>
<li>$ sudo apt-get install g++</li>
</ul>
</li>
<li>OpenGLのインストール
<ul>
<li>$ sudo apt-get install freeglut3 freeglut3-dbg freeglut3-dev</li>
</ul>
</li>
</ul>
<ul>
<li>premakeのインストール<br />
 Code::blocks用のプロジェクトを作成するためにPremakeをインストールします。<a href="http://premake.sourceforge.net/download">ここをクリックして</a>premakeのダウンロードサイトへ行き、Ubuntu用のパッケージがあるのでご自分のバージョンにあったものをダウンロードしてください。8.04の場合は以下のリンクをクリックするとパッケージ・インストーラが起動して簡単にインストールできます。</p>
<p><br class="spacer_" /></p>
<ul>
<li><a href="http://launchpadlibrarian.net/14055887/premake_3.6-0ubuntu1%7Eppa1_i386.deb">http://launchpadlibrarian.net/14055887/premake_3.6-0ubuntu1%7Eppa1_i386.deb<br />
 </a></li>
</ul>
<p><!--more--></p>
</li>
</ul>
</li>
<li><strong>ODE 0.11.1のインストール </strong>
<ul>
<li><a href="http://sourceforge.net/project/showfiles.php?group_id=24884"></a><a href="http://sourceforge.net/project/downloading.php?group_id=24884&amp;filename=ode-0.11.1.tar.gz&amp;a=36220370">ode-0.11.1.tar.gz</a>をダウンロードし以下に保存します。
<ul>
<li>/home/ユーザ名/src</li>
</ul>
</li>
<li>端末を開き、次のコマンドで展開します。
<ul>
<li>cd  src</li>
<li>tar  xvzf ode-0.11.1.tar.gz</li>
</ul>
</li>
<li>ビルドするためにはpremake4が必要です.  Linux用のバイナリは<a href="http://downloads.sourceforge.net/premake/premake-4.0-linux.tar.gz">ここから</a>ダウンロードできます。適当な場所に置き次のコマンドで展開して、パスが通っているところにコピーしてください。
<ul>
<li>tar xvzf  premake-4.0-linux.tar.gz</li>
</ul>
</li>
<li>ビルドをするためのワークスペースを作ります。以下のようにコマンドを打ち込む．カットアンドペースト の場合は以下の文字列を使用し，自分で打ち込む場合は２個の-(マイナス)文字がつながって見えるので，下画像を参照して注意深く打ち込んでください．
<ul>
<li>cd 　ode-0.11.1/build<br />
 注：cdコマンドはディレクトリの移動</li>
<li>
<pre>premake4 --with-demos  --with-tests  codeblocks</pre>
<p><strong><span style="color: #ff0000;">注：withの前は-（マイナス）が２個連続している．下画像参照．</span></strong></p>
</li>
</ul>
</li>
</ul>
<ul>
<li>成功するとcodeblocksというcode::blocks用のフォルダができる．フォルダリ構成は以下となる．
<ul>
<li>/home/ユーザ名/src/ode-0.11.1/build/codeblocks</li>
</ul>
</li>
</ul>
</li>
<li><strong>ODEのビルド </strong>
<ul>
<li>code::blocksを起動</li>
<li>code::blocksのメニューバーから「ファイル(F)」→「開く（O)」を選択
<ul>
<li>/home/ユーザ名/src/ode-0.11.1/build/codeblocks/ode.workspaceを選択</li>
</ul>
</li>
<li>ビルドターゲットをDebugDoubleLibとする（下画像の赤丸箇所）．
<ul>
<li>これによりデバッグ向け，倍精度，静的なライブラリが作られます．ODEではDLL（Dynamic Link Library)より静的ライブラリ(Static Library)が推奨されています．静的ライブラリで作成した実行ファイルはサイズが大きくなりますが，配布時はその実行ファイルだけを配布すれば良く ライブラリを付属する必要はありません．自分が作成した実行ファイルを配布するときは静的ライブラリがお勧めです．</li>
</ul>
</li>
<li>
<p><img src="{{ site.baseurl }}/assets/images/2009/06/targetdebuglib.jpg" alt="targetdebuglib.jpg" /></p>
</li>
<li>「ビルド(B)」→「ワークスペースをビルド(W)」を選択．ワークスペースはVisual C++のソリューションと同様なものです．
<ul>
<li>デモプログラムの実行ファイルは/home/ユーザ名/src/ode-0.11.1/lib/DebugDoubleLibに生成される．</li>
<li>ファイル・ブラウザでそのフォルダを開く</li>
<li>試しに，demo_basketをダブルクリックして起動すればODEのビルド成功．Ubuntuは実行ファイルをダブルクリックすれば起動します。操作感はもうWindowsと変わりませんね。</li>
</ul>
</li>
</ul>
</li>
<p><!--more--></p>
<li><strong>ODE本サンプルプログラムのビルド </strong>
<ul>
<li>demura.netの<a href="http://demura.net/dl">ダウンロードカテゴリー</a>からrobosimu******.zip（******は日付）をダウンロードして，/home/ユーザ名/src/ode-0.11.1に解凍する。 解凍に成功するとroboSimuというフォルダが生成され、その中にはsrc, texturesフォルダ，premake.exe, premake.lua, Readme.txt, roboSimu.luaファイルがある．srcの中にはODE本のサンプルコードがある．
<ul>
<li>Ubuntuではファイル・ブラウザでzipファイルをダブルクリックするとウインドウが開くので「展開」をクリックするだけで解凍できる。</li>
</ul>
</li>
<li>ODEのインストールではpremake4コマンドを使いました．ODE本のビルドではpremake4に対応していないのでpremakeコマンドを使ってcode::blocks用のプロジェクトを生成します．端末を起動し，以下のコマンドを実行する．
<ul>
<li>cd src/ode-0.11.1/roboSimu</li>
<li>
<pre>premake  --target  cb-gcc</pre>
<p><span style="color: #ff0000;"><strong><br />
 </strong></span></p>
</li>
</ul>
</li>
<li>code::blocksを起動</li>
<li>code::blocksのメニューバーから「ファイル(F)」→「開く（O)」を選択
<ul>
<li>/home/ユーザ名/src/ode-0.11.1/roboSimu/src/roboSimu.workspaceを選択</li>
</ul>
</li>
<li>ビルドターゲットをDebugLibとする．</li>
<li>「ビルド(B)」→「ワークスペースをビルド(W)」を選択</li>
<li>サンプルプログラムの実行ファイルは/home/ユーザ名/src/ode-0.11.1/roboSimu/DebugLibに生成される．</li>
<li>試しに，arm1をダブルクリックして起動すれば成功．お疲れ様でした！</li>
<li>なお、code::blocksからも「ビルド(B)」→「実行(R)」で起動できる。ただし、その場合は、起動したいプロジェクトにマウスカーソールを合わせ、右マウスをクリックして「プロジェクトをアクティブ化する」を選ぶ。</li>
</ul>
<p><img src="{{ site.baseurl }}/assets/images/2009/06/cbactivate.jpg" alt="cbactivate.jpg" /></p>
</li>
</ol>
<p>でむ</p>
