---
layout: post
title: ODEで学ぶC言語 [Step0:仮想空間の表示]
date: 2009-06-11 14:38:51.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ode
tags: []
meta:
  syntaxhighlighter_encoded: '1'
  _edit_last: '2'
  views: '2011'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/9ode/3993.html"
---
<p><br class="spacer_" /></p>
<p>[caption id="attachment_4028" align="alignnone" width="462" caption="step0.cppの実行画面"]<a href="http://demura.net/wordpress/wp-content/uploads/2009/06/step0.jpg"><img class="size-full wp-image-4028" title="step0" src="{{ site.baseurl }}/assets/images/2009/06/step0.jpg" alt="step0.cppの実行画面" width="462" height="330" /></a>[/caption]</p>
<p>講義でC言語を教えているのですが，最近のリアルなゲームに慣れた学生にはテキストベースのプログラムではあまりモチベーションが上がらないようです．そこで，ODEを使いC言語を初めて学ぶための新連載「ODEで学ぶC言語」を始めます．今回初めてこの方法で学生に教えるので，反応を見ながら作り上げていきたいと思います．なお，講義では別の教科書で一通りC言語を教えたので，プログラミング能力を高めるための演習ベースになり，C言語に対する細かい説明はあまりしません．</p>
<p>今回は，ODEの仮想空間を表示してみましょう．</p>
<p>早速，ソースコードを下にお見せします．</p>
<pre class="brush:cpp">/* step0 仮想空間の表示　*/
#include "dm0.h"

int main()         /*** main関数 ***/
{
  dmLoop(800, 600); // シミュレーションループ (ウインドウの横，縦）
  return 0;
}
</pre>
<p>2行目の#includeでdm0.hという謎のファイルを読み込んでいます．中身は回を追ってから説明することにして，ここでは簡単にするためのおまじないファイルがdm0.hだと思ってください．</p>
<p>次に，４行目～８行目のmain関数です。C言語にはmain関数が必ず一つだけ必要で，それからプログラムが実行されます．6行目のdmLoop(800, 600)は，横800, 縦600ピクセルのウインドウを開き，空と地面など描画一切を取り仕切っています．普通のC言語にはありません．プログラムを簡単にするために私が作りました．</p>
<p>最後に，main関数はint型を返すので，プログラムが最後までうまくいった（正常に終了した）場合は0をコンピュータのシステム(OS)に返すしきたりになっているので7行目のようにreturn文で0を返しています．</p>
<p>今回はここまでです．簡単でしたね．おっと宿題を忘れていました．以下を次回までやってきてください．</p>
<ul>
<li>宿題
<ul>
<li>このプログラム<a href="http://demura.net/wordpress/wp-content/uploads/2009/06/step0-090612.zip">step0-090612.zip</a>をダウンロードして実行してください．なお，今のところWindowsとCodeblocksにしか対応していません．</li>
<li>手順
<ul>
<li>ode-0.11.1がインストールされていなかったら<a href="http://demura.net/9ode/3850.html">この説明に従いインストールする</a>．</li>
<li>step0-090611.zipをc:\ode-0.11.1\myprogの中に保存する．</li>
<li>そこで解凍する．c:\ode-0.11.1\myprog\step0というフォルダが作られます．</li>
<li>c:\ode-0.11.1\myprog\step0\step0.cbpをダブルクリックしてcodeblocksを起動しビルド・実行する．<strong>ダブルクリックするファイルの拡張子はcbpです．間違ってcppをダブルクリックしないように！</strong></li>
<li>おしまい</li>
</ul>
</li>
<li>描画するウインドウの大きさを横1024ピクセル，縦768ピクセルに大きくしましょう．
<ul>
</ul>
</li>
</ul>
</li>
</ul>
