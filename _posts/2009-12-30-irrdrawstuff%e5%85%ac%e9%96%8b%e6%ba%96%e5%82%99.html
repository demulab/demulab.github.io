---
layout: post
title: irrDrawstuff公開準備
date: 2009-12-30 23:26:11.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ode
tags: []
meta:
  _edit_last: '2'
  views: '227'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/9ode/5699.html"
---
<p>ロボット学会で１０月末には公開するといっていたODEの描画ライブラリの上位互換ライブラリirrDrawstuffの公開準備作業中．</p>
<p><!--more--></p>
<p>[caption id="attachment_5700" align="alignleft" width="280" caption="開発中のirrDrawstuff"]<a href="http://demura.net/wordpress/wp-content/uploads/2009/12/amotor1s.jpg"><img class="size-full wp-image-5700" title="irrDrawstuff" src="{{ site.baseurl }}/assets/images/2009/12/amotor1s.jpg" alt="開発中のirrDrawstuff" width="280" height="220" /></a>[/caption]</p>
<p>[caption id="attachment_5701" align="alignright" width="280" caption="drawstuff"]<a href="http://demura.net/wordpress/wp-content/uploads/2009/12/amotor2s.jpg"><img class="size-full wp-image-5701" title="drawstuff" src="{{ site.baseurl }}/assets/images/2009/12/amotor2s.jpg" alt="drawstuff" width="280" height="230" /></a>[/caption]</p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
<p>遅れた原因は，配布パッケージの作成．マルチプラットフォームに対応するためにpremake4を使ったがこの作業に手間取り，つくばチャレンジもあったので作業を一時中断．</p>
<p>また，ボックスや球などの基本図形はirrlichtで実装されているノードを使用しているが見た目が悪い．光源の設定などを色々変更しても思ったようにならない．共同開発者がirrlichtにあるCGeometryCreator.cppの363行目で頂点の色を白にしていることを見つけた．この頂点色を実現したい色に設定するとdrawstuffと同じように鮮やかな色で表示された．irrlichtはテクスチャベースで描画しているので，白にしていると推測．</p>
<p>この問題を解決するために，描画したい色のテクスチャファイルを動的に作成する方法を採用した．それが上のスクリーンショット．</p>
<p>残る問題はカメラの視点と視線の設定．それを解決すれば公開できる．正月は時間があるので解決できそう．</p>
<p style="text-align: right;">でむ</p>
<p><br class="spacer_" /></p>
<p><br class="spacer_" /></p>
