---
layout: post
title: つくばチャレンジ2011まであと６日：GPSプログラムの修正
date: 2011-11-09 23:29:46.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- つくばチャレンジ
tags: []
meta:
  _edit_last: '2'
  views: '328'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/tukuba-challenge/9253.html"
---
<p>つくばチャレンジ２０１１トライアルまであと６日。</p>
<p><strong>demura.netチーム全員の作業内容</strong></p>
<p>チームの忘備録用です。</p>
<ul>
<li>ＬＲＦピッチ振れ角増加変更に伴う、地図生成プログラムの修正</li>
<li>ナビゲーション時のLRFピッチ振れ角を-40から20[°」に変更</li>
<li>エレベータ乗り降りプログラムの修正の変更</li>
<ul>
<li>ロボットが大きく(幅６３ｃｍ）、エレベータの入口（76cm)なので難しい。なんとか１回は成功。</li>
</ul>
<li>ロボット用ステッカーの完成</li>
<li>スロープ用プログラムの作成</li>
<li>搭乗用ロボットのデモプログラム作成</li>
<ul>
<li>期待されている？ようなので頑張ります。</li>
</ul>
<li>gpsプログラムの作り直し</li>
<ul>
<li>NMEA用ライブラリを使ったプログラムがときどく不具合があるので、gpsdを利用するプログラムに変更。</li>
<li>gpsdの設定</li>
<ul>
<li>/etc/default/gpsdのデバイスを次に設定</li>
<ul>
<li>DEVICE="/dev/ttyUSB-GPS"</li>
</ul>
<li>ROSのgpsd_clientパッケージをベースにgps2を作成</li>
<ul>
<li>Published Topicsとしてfix_extendedを利用。これはgpsがfixしないと値が０なので注意。つまり、屋内では動作確認できない。これに気がつくのに数時間無駄にした。</li>
<li>~/ros-pkg/tukuba8/gps2/src/gps2.cppの16行目を次のように変更</li>
<ul>
<li>gps_fix_pub = node.advertise&lt;GPSFix&gt;("gps_fix",1);</li>
</ul>
<li>GPSFixクラスの変数名をfixからgps_fixに変更</li>
<li>以上の変更だけ。ROSおそるべし。</li>
</ul>
<li>gps2の動作確認方法</li>
<ul>
<li>roscore</li>
<li>rosrun  gps2 gps2</li>
<li>rosrun  debug_tool  debug</li>
<li>rxgraph</li>
</ul>
<li>参考URL</li>
<ul>
<li><a href="http://www.ros.org/wiki/gpsd_client">gpsd_clinet, ROW Wiki</a></li>
</ul>
</ul>
</ul>
</ul>
<div>以上</div>
