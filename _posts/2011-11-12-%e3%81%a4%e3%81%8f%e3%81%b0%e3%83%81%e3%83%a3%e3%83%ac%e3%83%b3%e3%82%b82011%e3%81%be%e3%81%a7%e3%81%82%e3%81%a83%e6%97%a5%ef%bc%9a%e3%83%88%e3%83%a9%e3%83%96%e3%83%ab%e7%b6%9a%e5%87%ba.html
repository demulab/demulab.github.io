---
layout: post
title: つくばチャレンジ2011まであと3日：トラブル続出
date: 2011-11-12 23:34:21.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- つくばチャレンジ
tags: []
meta:
  _edit_last: '2'
  views: '133'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/tukuba-challenge/9272.html"
---
<p>つくばチャレンジ2011まであと３日。</p>
<p>第６回実験走行。地図を作成するために２周ラウンドし、トライアルコースの自律走行を２回実施する予定。</p>
<p>毎年トラブルが続出するもの。今年も出ました。</p>
<p>１．コントローラー故障：地図を生成する際に、プレステ３のコントローラを使いマニュアル操作でロボットを動かす。今までノートラブルで使えていたが、１回目の地図生成の途中でロボットがコントローラーに反応しなくなった。いろいろ、調べてみるとソフトではなくプレステ３が故障。近くのゲオで購入して何とか地図を生成できた。２時間を費やす。</p>
<p>２．ロボットがスタック状態：地図を生成し、いよいよ自律走行と張り切っていたが、スタート地点から前に進まず、その場を回転するばかり。この原因を解明できず、第６回実験走行終了。</p>
<p>このままでは、明日の実験走行で自律走行できないので、この原因を究明するグループと昨年使っていたナビゲーションをROSに移植するグループに分け作業開始。深夜に原因が判明。</p>
<p>costmap_2dの次のパラメータの設定ミス。</p>
<ul>
<li>z_voxels: グリッドの高さ方向のボクセル数（デフォルト10)</li>
<li>unknown_threshold: グリッドがknown状態と判定するときのunknownのボクセル数（デフォルトz_voxels数）</li>
</ul>
<div>unknown_thresholdをz_voxelsの半分にしたところ、スタック状態になった。これは、高さ方向のボクセルをLRFで走査できなかったためと考えられる。そんため、ロボット周囲のグリッドが常にunknownになり、そこから抜け出すことができなくなった。</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
