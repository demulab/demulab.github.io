---
layout: post
title: HMC5883Lの x,y軸センサ軌跡
date: 2013-01-15 21:09:09.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- robocup
tags: []
meta:
  _edit_last: '2'
  _oembed_683f842ceed6d982c10265ec08ddc15f: "{{unknown}}"
  _oembed_7b6b5f3fc5d237c97100c8cfed24b2b0: "{{unknown}}"
  _oembed_6e43bb0c2d78955bfb7369e8f4e82c1c: "{{unknown}}"
  views: '7645'
  _oembed_82517d6e94286b1bb42eb1753e6390ac: "{{unknown}}"
  _oembed_3388509293506678c0949b94f9e85206: "{{unknown}}"
  _oembed_31d843713eeded1ee8a6dce9d8e795c9: "{{unknown}}"
  _oembed_b2f52023cf87bc37b77be58dc3ad97a0: "{{unknown}}"
  _oembed_8778090da5a2fef2147e040359594d94: '<blockquote class="wp-embedded-content"
    data-secret="o8iVQDP9cf"><a href="https://demura.net/robocup/10156.html">e-gadgetやTJ3で地磁気センサHMC5883Lを使う方法１/3（セルフテスト）</a></blockquote><iframe
    class="wp-embedded-content" sandbox="allow-scripts" security="restricted" style="position:
    absolute; clip: rect(1px, 1px, 1px, 1px);" src="https://demura.net/robocup/10156.html/embed#?secret=o8iVQDP9cf"
    data-secret="o8iVQDP9cf" width="600" height="338" title="&#8220;e-gadgetやTJ3で地磁気センサHMC5883Lを使う方法１/3（セルフテスト）&#8221;
    &#8212; demura.net" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>'
  _oembed_time_8778090da5a2fef2147e040359594d94: '1553778190'
  _oembed_4099f27d114be9cea35e0281bbf984de: "{{unknown}}"
  _oembed_f3fea34b0e8b9a5b69735153d4ef4296: "{{unknown}}"
  _oembed_ed8617ea76baf5854da8c47bb7e14bb3: "{{unknown}}"
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/robocup/10189.html"
---
<p>ハネウェルの地磁気センサHMC5883Lをキャリプレーション（360°回転）したときのx,y軸センサの生データを以下に示します。</p>
<p><a href="http://demura.net/robocup/10189.html/attachment/xyplot-2" rel="attachment wp-att-10191"><img src="{{ site.baseurl }}/assets/images/2013/01/xyplot1-294x300.jpg" alt="xyplot" width="294" height="300" class="aligncenter size-medium wp-image-10191" /></a></p>
<p>横軸はx軸センサの値、縦軸はy軸センサの値です。単位はLSB(Least Significant Bit)でAD変換の量子化単位です。物理量と対応すると測定したゲインでは1000LSBが1080mG(ミリガウス）となっています。日本では地磁気は310mGなので、本来は原点を中心に半径310mGの円となるはずですが、中心がx軸の正方向に175LSB程度移動しています。<br />
<!--more--><br />
このずれの原因はセンサ出力値の誤差や周囲の磁場の影響の可能性があります。この実験ではロボットのモータは動いており、データを取得したパソコンもセンサから30~50cm程度の位置でした。</p>
<p>なお、このデータはe-gadgetをパソコンにつないで取得したものです。方法はシリアルに文字列を出力するc-styleの関数tx_puts(char *str)をget_dir()関数の中で呼び出し、ログを取りたいデータをtera termで取得すればＯＫです。以下の記事のサンプルプログラムにコードがあります。参考にしてください。<br />
http://demura.net/robocup/10156.html</p>
<p>でむ</p>
