---
layout: post
title: ロボットプログラミングⅡ：ROS Kineticのインストール
date: 2017-10-02 23:51:46.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- lecture
tags: []
meta:
  _edit_last: '2'
  views: '2252'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/education/lecture/13657.html"
---
<p>私が担当している授業のロボットプログラミングⅡ用です．この記事はROS のオフィシャルウェブサイトの次の日本語記事を簡略化しています。詳しい説明は次のリンクをご覧ください。</p>
<ul>
<li><a href="http://wiki.ros.org/kinetic/Installation/Ubuntu">ROS Kinetic の Ubuntu へのインストール</a></li>
</ul>
<p>----------------------------------------------------------------------------------------------</p>
<p>以下の手順でROSをインストールしてください。Ubuntuをブートして、Firefoxを起動し、このページを開く。</p>
<p>１．準備</p>
<p style="padding-left: 30px;">(1) 端末(ターミナル、terminal)を開いて、以下のコマンドをコピペして、Enterキーを押し実行する。パスワードを聞かれたら入力する。</p>
<ul>
<li><code>sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" &gt; /etc/apt/sources.list.d/ros-latest.list'</code></li>
</ul>
<p style="padding-left: 30px;"> (2)  同様にして以下のコマンドを実行して鍵情報を取得する。</p>
<ul>
<li>学外ネットワークの場合
<ul>
<li><code>sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116<br />
</code></li>
</ul>
</li>
<li>学内ネットワークの場合
<ul>
<li>学内のfirewall内ではコマンドが失敗するので、この作業だけ、学外のネットワークで実行するか、スマホのデザリング機能を使いネットワークに接続してから上のコマンドを実行するか、以下のように--keyserver-optionをつけて実行する。なお、プロキシサーバー名、ポート番号は情報処理サービスセンターで指定されているものを使う。</li>
<li><code>sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --keyserver-option http-proxy=http://プロキシサーバ―名:ポート番号 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116</code></li>
</ul>
</li>
</ul>
<p>2. インストール</p>
<p>(0)  Proxyの設定</p>
<ul>
<li>cd  /etc/apt</li>
<li>sudo  vi  apt.conf</li>
<li> iキーを教えて挿入モードにして以下をコピペする。
<ul>
<li>Acquire::ftp::proxy "ftp://プロキシ―サーバー名:ポート番号/";</li>
<li>Acquire::http::proxy "http://プロキシ―サーバー名:ポート番号/";</li>
<li>Acquire::https::proxy "https://プロキシ―サーバー名:ポート番号/";</li>
</ul>
</li>
<li>escキーを押す。</li>
<li>: (コロン）キーを押す。</li>
<li>wqキーを押してenterキーを押すと保存できる。</li>
<li>以下のコマンドを実行してコピペした部分が表示できれば成功。終了するときはqキーを押す。
<ul>
<li>less   apt.conf</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<p>(1)  以下のコマンドでパッケージをアップデートする。</p>
<ul>
<li><code> sudo apt update</code></li>
</ul>
<p>(2)  ROSのインストール</p>
<ul>
<li><code>sudo apt install ros-kinetic-desktop-full</code></li>
</ul>
<p>なお、sudo apt-get updateで次のように怒られる場合は、Ubuntuのネットワーク設定がうまくいっていない可能性があります。proxyを設定していない場合は、上の(0)Proxyの設定してください。<code><br />
<a href="http://demura.net/wordpress/wp-content/uploads/2015/09/SnapCrab_NoName_2015-10-15_17-25-11_No-00.png"><img src="{{ site.baseurl }}/assets/images/2017/10/SnapCrab_NoName_2015-10-15_17-25-11_No-00.png" alt="SnapCrab_NoName_2015-10-15_17-25-11_No-00" width="698" height="151" class="aligncenter size-full wp-image-12235" /></a><br />
</code></p>
<p>3. 初期設定</p>
<p style="padding-left: 30px;">(1)  以下のコマンドでrosdepを初期化する。1行目を入力したらEnterキーを押し、2行目を入力したらEnterキーを押す。rosdepはコンパイルを楽にするツール。</p>
<ul>
<li><code>sudo rosdep init</code></li>
<li><code>rosdep update</code></li>
</ul>
<p style="padding-left: 30px;">(2) 環境設定。楽をするための設定。以下のコマンドを端末にコピペしてEnterキーを押す。1行ずつ実施する。</p>
<ul>
<li><code>echo "source /opt/ros/kinetic/setup.bash" &gt;&gt; ~/.bashrc</code></li>
<li><code>source ~/.bashrc</code></li>
</ul>
<p style="padding-left: 30px;">(3) rosinstall 。インストールが簡単になるツール。以下のコマンドでインストールする。</p>
<ul>
<li><code>sudo apt install python-rosinstall python-rosinstall-generator python-wstool build-essential</code></li>
</ul>
<p>終わり</p>
