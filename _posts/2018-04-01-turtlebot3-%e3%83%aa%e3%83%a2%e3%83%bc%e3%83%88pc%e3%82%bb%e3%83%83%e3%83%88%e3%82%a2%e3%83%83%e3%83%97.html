---
layout: post
title: 'Turtlebot3: 1. リモートPCの設定'
date: 2018-04-01 11:31:41.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- misc
tags: []
meta:
  _edit_last: '2'
  views: '3183'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/misc/14378.html"
---
<p>Turtlebot3を動かすためのリモートPCの設定メモ。Robotisから<a href="http://emanual.robotis.com/docs/en/platform/turtlebot3/overview/">Eマニュアル</a>が出ているが、日本語訳がなくわかりづらいのでメモを残す。</p>
<ul>
<li><a href="http://emanual.robotis.com/docs/en/platform/turtlebot3/overview/">Turtlebot3 e-Manual,  ROBOTIS</a></li>
</ul>
<p>Turtlebot3にはRaspberry Pi 3 model Bが搭載されているが、Turtlebot3 Burgerに同封されていたSDカードの容量が8GB、Raspberry Pi 3 model Bのメモリが1GBしかないのでリモートPCで多くの作業をすることになると思う。リモートPCはTurtlebot3から見た別PCで、ノートパソコンやデスクトップパソコンになる。Turtlebot3を自由に動かすために無線LAN環境が必要。Ubuntuのインストールから作業すると数GBのファイルをダウンロードする必要もあるので半日程度はかかる。</p>
<p><strong>Ubuntu16.04のインストール</strong></p>
<ul>
<li><a href="https://www.ubuntu.com/download/desktop">ダウンロードリンク</a></li>
</ul>
<p><strong>ROS KineticとTurtlebot3パッケージのインストール</strong></p>
<ul>
<li>端末を開き以下のコマンドを実行
<ul>
<li><code>sudo apt-get update</code></li>
<li><code>sudo apt-get upgrade</code></li>
<li><code>cd</code></li>
<li><code>mkdir src</code></li>
<li><code>cd src</code></li>
<li><code>wget https://raw.githubusercontent.com/ROBOTIS-GIT/robotis_tools/master/install_ros_kinetic.sh</code></li>
<li><code>chmod 755 ./install_ros_kinetic.sh</code></li>
<li><code>./install_ros_kinetic.sh</code></li>
</ul>
</li>
<li>再起動する
<ul>
<li><code>sudo reboot</code></li>
</ul>
</li>
<li>依存パッケージのインストール
<ul>
<li><code>sudo apt-get install ros-kinetic-joy ros-kinetic-teleop-twist-joy ros-kinetic-teleop-twist-keyboard ros-kinetic-laser-proc ros-kinetic-rgbd-launch ros-kinetic-depthimage-to-laserscan ros-kinetic-rosserial-arduino ros-kinetic-rosserial-python ros-kinetic-rosserial-server ros-kinetic-rosserial-client ros-kinetic-rosserial-msgs ros-kinetic-amcl ros-kinetic-map-server ros-kinetic-move-base ros-kinetic-urdf ros-kinetic-xacro ros-kinetic-compressed-image-transport ros-kinetic-rqt-image-view ros-kinetic-gmapping ros-kinetic-navigation ros-kinetic-interactive-markers</code></li>
<li><code>cd ~/catkin_ws/src</code></li>
<li><code>git clone https://github.com/ROBOTIS-GIT/turtlebot3_msgs.git</code></li>
<li><code>git clone https://github.com/ROBOTIS-GIT/turtlebot3.git</code></li>
<li><code>cd ~/catkin_ws</code></li>
<li><code>catkin_make</code></li>
</ul>
</li>
</ul>
<p><strong>ネットワーク設定</strong></p>
<ul>
<li>端末を開き、以下のコマンドでIPアドレスを調べる。リモートPCとTurtlebot3とは無線LANで通信するのでwlan0の欄を見る。ここでは192.168.1.11とする。
<ul>
<li><code>ifconfig</code></li>
<li>下図の赤で囲んだ部分を.bashrcに追加する。ここのIPアドレスはifconfigで調べたIPアドレス。この例では192.168.1.11。<br />
ROS_MASTER_URIとROS_HOSTNAMEは同じIPアドレスにする。ROS_MASTER_URIはroscoreを起動するリモートPCのIPアドレス。ROS_HOSTNAMEはリモートPCのIPアドレス。リモートPCの場合は両者は同じになる。IPアドレスを間違えるとロボットは動かない。<br />
また、DHCP設定の場合はコンピュータを起動するたびにIPアドレスが変わるので注意が必要。</li>
</ul>
</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/04/bashrc1.jpg"><img src="{{ site.baseurl }}/assets/images/2018/04/bashrc1.jpg" alt="" width="566" height="313" class="aligncenter size-full wp-image-14404" /></a></p>
<ul>
<li>以下のコマンドで設定を反映させる。
<ul>
<li><code>source ~/.bashrc</code></li>
</ul>
</li>
</ul>
<p>リモートPCの設定終わり。お疲れ様。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
