---
layout: post
title: 'WSL: Gazeboでロボットが動かないとき'
date: 2018-11-15 23:18:42.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- lecture
tags: []
meta:
  _edit_last: '2'
  views: '615'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/education/lecture/15348.html"
---
<p><span style="color: #ff0000;"><strong>注：以下の方法で動く場合もありますが、動かなくなる場合が多いので解決になっていません(2018-12-01)。</strong></span></p>
<p>WSL(Windows Subsystem for Linux)のUbuntuでROS演習の講義をしていますが、/cmd_velを送ってもGazebo上のロボットが動いたり動かなったりする現象に少し悩まされました。以下のようにGAZEBO_IPとGAZEBO_MASTER_URIを設定すると無事動くようになりました。ご参考までに、.bashrcでROSとGAZEBOに関係ありそうな部分を転載します。</p>
<pre class="brush:cpp;">export DISPLAY=localhost:0
#export LIBGL_ALWAYS_INDIRECT=1

export GAZEBO_IP=127.0.0.1
export GAZEBO_MASTER_URI=http://localhost:11346

export TURTLEBOT3_MODEL=burger
export ROS_HOSTNAME=localhost
export ROS_MASTER_URI=http://localhost:11311
source /opt/ros/kinetic/setup.bash
source ~/catkin_ws/devel/setup.bash
</pre>
<p>終り。</p>
