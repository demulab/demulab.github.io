---
layout: post
title: ロボットプログラミングⅡ-2018：Virtualbox5.2+Ubuntu16.04のインストール法
date: 2018-12-05 22:10:31.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- lecture
tags: []
meta:
  _edit_last: '2'
  views: '613'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/education/lecture/15424.html"
---
<p>この記事は私が金沢工業大学ロボティクス学科で担当している2018年後学期開講の講義ロボットプログラミングⅡ用です。<strong><span style="color: #ff0000;">WSL(Windows Subsystem for Linux)環境でROSを使おうとしましたが、Gazeboの動作が不安定なので使用に耐えません、VirtualBoxを使うことに変更しました。講義途中での環境の変更をお詫びします(2018-12-05)。</span></strong></p>
<p>ここでは、VirtualBox5.2+Ubuntu16.04のインストール法を説明します。なお、以下の図はVirtualBox5.1のものですが、インストール方法はほとんど同じです。</p>
<p><strong>VirtualBoxのインストール</strong></p>
<p>(1) VirtualBoxのダウンロード</p>
<ul>
<li><a href="https://download.virtualbox.org/virtualbox/5.2.22/VirtualBox-5.2.22-126460-Win.exe">ここをクリックしてVirtualBox 5.2.22 のWindowsイ</a><a href="http://download.virtualbox.org/virtualbox/5.1.28/VirtualBox-5.1.28-117968-Win.exe">ンストーラ </a> をダウンロードする。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2015/09/vm-download.jpg"><img src="{{ site.baseurl }}/assets/images/2018/12/vm-download-300x216.jpg" alt="vm-download" width="300" height="216" class="aligncenter size-medium wp-image-12053" /></a></p>
<p>(2) Extention Packのダウンロード</p>
<ul>
<li><a href="http://download.virtualbox.org/virtualbox/5.1.28/Oracle_VM_VirtualBox_Extension_Pack-5.1.28-117968.vbox-extpack">ここをクリッしてVirtualBox 5.2.22 Oracle VM VirtualBox Extension </a>をダウンロードする。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2015/09/extention.jpg"><img src="{{ site.baseurl }}/assets/images/2018/12/extention-300x167.jpg" alt="extention" width="300" height="167" class="aligncenter size-medium wp-image-12368" /></a></p>
<p>(3) ダウンロードしたVirtualBox-5.2.22-121460-Win.exeファイルをダブルクリックすると以下のsetup画面になる。[Next]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/welcome-4" rel="attachment wp-att-13589"><img src="{{ site.baseurl }}/assets/images/2018/12/welcome.jpg" alt="" width="499" height="389" class="aligncenter size-full wp-image-13589" /></a></p>
<p>(4)  何もしないので、[Next]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/setup" rel="attachment wp-att-13591"><img src="{{ site.baseurl }}/assets/images/2018/12/setup.jpg" alt="" width="499" height="389" class="aligncenter size-full wp-image-13591" /></a></p>
<p>(5) 何も変更しないで、[Next]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/setup2-2" rel="attachment wp-att-13592"><img src="{{ site.baseurl }}/assets/images/2018/12/setup2.jpg" alt="" width="499" height="389" class="aligncenter size-full wp-image-13592" /></a></p>
<p>(6) Warning（警告）が出るが、このまま、[Yes]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/warning" rel="attachment wp-att-13593"><img src="{{ site.baseurl }}/assets/images/2018/12/warning.jpg" alt="" width="499" height="389" class="aligncenter size-full wp-image-13593" /></a></p>
<p>(7)  インストールの準備完了。[Install]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/ready" rel="attachment wp-att-13594"><img src="{{ site.baseurl }}/assets/images/2018/12/ready.jpg" alt="" width="499" height="389" class="aligncenter size-full wp-image-13594" /></a></p>
<p>(8) インストールが始まる。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/setup3-2" rel="attachment wp-att-13595"><img src="{{ site.baseurl }}/assets/images/2018/12/setup3.jpg" alt="" width="499" height="389" class="aligncenter size-full wp-image-13595" /></a></p>
<p><span style="color: #ff0000;">もし、途中でウインドウが開き「このデバイスソフトウェアをインストールしますか？名前：Oracle corporation ユニバーサルシリアルパスコントローラ」などデバイスソフトウェアのインスト―ルを聞かれたら、全て「インストール」する。</span></p>
<p><a href="http://demura.net/lecture/13582.html/attachment/security" rel="attachment wp-att-13596"><img src="{{ site.baseurl }}/assets/images/2018/12/security.jpg" alt="" width="622" height="250" class="aligncenter size-full wp-image-13596" /></a></p>
<p>(9) インストールが終わったので[Finish]をクリックすると、VirtualBoxが起動する。<a href="http://demura.net/wordpress/wp-content/uploads/2014/09/vm-install8.jpg"><br />
</a></p>
<p><a href="http://demura.net/lecture/13582.html/attachment/complete" rel="attachment wp-att-13597"><img src="{{ site.baseurl }}/assets/images/2018/12/complete.jpg" alt="" width="499" height="389" class="aligncenter size-full wp-image-13597" /></a></p>
<p>○　<strong>拡張パッケージのインストール</strong></p>
<p>(1) USB2.0/3.0を使えるようにダウンロードしておいたExtention Packをインストールする．VirtualBoxマネージャーの</p>
<p>ファイル→環境設定→機能拡張</p>
<p>を選択。下図の赤枠部分をクリックして、ダウンロードしたOracle_VM_VirtualBox_Extension_Pack-5.2.22-126460.vbox-extpackを選択し，[OK]をクリックする．</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/environment" rel="attachment wp-att-13666"><img src="{{ site.baseurl }}/assets/images/2018/12/environment-300x203.jpg" alt="" width="300" height="203" class="aligncenter size-medium wp-image-13666" /></a></p>
<p>(2) 質問のウインドウになるので，[インストール]をクリックする．</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/question-2" rel="attachment wp-att-13668"><img src="{{ site.baseurl }}/assets/images/2018/12/question-300x191.jpg" alt="" width="300" height="191" class="aligncenter size-medium wp-image-13668" /></a></p>
<p>(3) VirtualBoxライセンスの画面になるので、スクロールバーを最後降ろし最後まで読み、[同意します]をクリック。<br />
<a href="http://demura.net/lecture/13582.html/attachment/license" rel="attachment wp-att-13669"><img src="{{ site.baseurl }}/assets/images/2018/12/license-300x238.jpg" alt="" width="300" height="238" class="aligncenter size-medium wp-image-13669" /></a>(4) 成功すると以下の画面いなるので、[OK]をクリック。<br />
<a href="http://demura.net/lecture/13582.html/attachment/extension_pack" rel="attachment wp-att-13670"><img src="{{ site.baseurl }}/assets/images/2018/12/extension_pack-300x126.jpg" alt="" width="300" height="126" class="aligncenter size-medium wp-image-13670" /></a></p>
<p>次のように拡張パッケージ名が表示されれば成功。[OK]をクリック。<a href="http://demura.net/lecture/13582.html/attachment/extension_pack_end" rel="attachment wp-att-13671"><br />
<img src="{{ site.baseurl }}/assets/images/2018/12/extension_pack_end-300x203.jpg" alt="" width="300" height="203" class="aligncenter size-medium wp-image-13671" /></a></p>
<p>○　<strong>仮想ハードディスクファイルのダウンロードと解凍</strong></p>
<p>(1)  Cドライブ直下に以下のフォルダを作成する</p>
<ul>
<li>c:\education\VirtualBox</li>
</ul>
<p>(2) 以下のサイトから次のファイルを(1)で作成したフォルダへダウンロードする。学内の場合は上、学外の場合はgoogleでubuntu-16.04.3-desktop-amd64.isoを検索してダウンロードしてください。</p>
<ul>
<li><a href="http://edu1.kanazawa-it.ac.jp/demura/education/robotProg2/ubuntu-16.04.3-desktop-amd64.iso">ubuntu-16.04.3-desktop-amd64.iso</a>(学内サイト。学外からダウンロードできません）</li>
</ul>
<p>○　<strong>仮想マシンの登録と起動</strong></p>
<p>(1) VirtualBoxマネージャ左上の[新規（N)]をクリックする。</p>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2014/09/vm1-welcome.jpg"><img src="{{ site.baseurl }}/assets/images/2018/12/vm1-welcome-300x204.jpg" alt="vm1-welcome" width="300" height="204" class="aligncenter size-medium wp-image-11125" /></a></p>
<p>(2) 仮想マシンの名前を[Ubuntu-16.04]、タイプを[Linux]、バージョンを[Ubuntu(<span style="color: #ff0000;">64-bit</span>)]に選び、「次へ」をクリック。Ubuntu(32-bit)だとインストールに失敗するのでUbuntu(64-bit)がない場合は下の注を参照。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/vm_name" rel="attachment wp-att-13675"><img src="{{ site.baseurl }}/assets/images/2018/12/vm_name-300x300.jpg" alt="" width="300" height="300" class="aligncenter size-medium wp-image-13675" /></a></p>
<p><span style="color: #ff0000;">注：ここで、Ubuntu (64-bit)がなくUbuntu(32-bit)しかない場合は、コントロールパネル」→「プログラム」→「プログラムと機能」の「Windowsの機能の有効化と無効化」をクリックし、下図のようにHyper-Vのチェックを外す。</span><br />
<a href="http://demura.net/wordpress/wp-content/uploads/2015/09/hyper-v.jpg"><img src="{{ site.baseurl }}/assets/images/2018/12/hyper-v-300x262.jpg" alt="hyper-v" width="300" height="262" class="aligncenter size-medium wp-image-12176" /></a></p>
<p>(3) 仮想マシンに割り当てるメモリーサイズを、実メモリの半分にする。<br />
私のマシンでは8192MB使えるので半分の4096MB割り当てた。<br />
[次へ]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/memory" rel="attachment wp-att-13603"><img src="{{ site.baseurl }}/assets/images/2018/12/memory.jpg" alt="" width="384" height="384" class="aligncenter size-full wp-image-13603" /></a></p>
<p>(4)　「仮想ハードディスクを作成する」にチェックを入れ[作成]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/vm_create" rel="attachment wp-att-13601"><img src="{{ site.baseurl }}/assets/images/2018/12/vm_create.jpg" alt="" width="384" height="384" class="aligncenter size-full wp-image-13601" /></a></p>
<p>(5) ハードディスクのファイルタイプは「VDI」をチェックし、[次へ]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/harddisk" rel="attachment wp-att-13604"><img src="{{ site.baseurl }}/assets/images/2018/12/harddisk.jpg" alt="" width="384" height="434" class="aligncenter size-full wp-image-13604" /></a></p>
<p>(6) 物理ハードディスクにあるストレージは「可変サイズ」を選び[次へ]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/disksize-2" rel="attachment wp-att-13606"><img src="{{ site.baseurl }}/assets/images/2018/12/disksize-1.jpg" alt="" width="384" height="434" class="aligncenter size-full wp-image-13606" /></a></p>
<p>(7) ファイルの場所とサイズは先ほど作成したフォルダC:\education\VirtualBoxへファイル名をeagle.vdiとする。<span style="color: #ff0000;"><strong>サイズは余裕を持って256GBにする。可変なので実際に使った分しかハードディスクは消費されない。ここで、標準の10GBだと授業で利用するソフトを全て入れることはできないので注意。</strong></span>[作成]をクリック。</p>
<p>&nbsp;</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/size" rel="attachment wp-att-13676"><img src="{{ site.baseurl }}/assets/images/2018/12/size-265x300.jpg" alt="" width="265" height="300" class="aligncenter size-medium wp-image-13676" /></a></p>
<p>Ubuntuのインストール準備</p>
<p>(1) VirtualBoxマネージャーの歯車のアイコン[設定]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/vm_setting" rel="attachment wp-att-13678"><img src="{{ site.baseurl }}/assets/images/2018/12/vm_setting-300x223.jpg" alt="" width="300" height="223" class="aligncenter size-medium wp-image-13678" /></a></p>
<p>(2) 「Ubuntu-設定」ウインドウが開いたら、ストレージ→コントローラー：IDE　空をクリック。次に、属性→光学ドライブ IDEセカンダリマスターの横のCDアイコン（下図では赤で囲まれている）をクリックし、「仮想光学ディスクファイルを選択」を選ぶ。</p>
<p>&nbsp;</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/cd-2" rel="attachment wp-att-13613"><img src="{{ site.baseurl }}/assets/images/2018/12/cd-1-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13613" /></a></p>
<p>(3) 先ほど、ダウンロードした「ubuntu-16.04.3-desktop-amd64.iso」を選び、[開く]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/dvd" rel="attachment wp-att-13679"><img src="{{ site.baseurl }}/assets/images/2018/12/dvd-300x161.jpg" alt="" width="300" height="161" class="aligncenter size-medium wp-image-13679" /></a></p>
<p>(4)  設定の画面に戻るので[OK]をクリック</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/setup_ok" rel="attachment wp-att-13616"><img src="{{ site.baseurl }}/assets/images/2018/12/setup_ok-300x161.jpg" alt="" width="300" height="161" class="aligncenter size-medium wp-image-13616" /></a></p>
<p>Ubuntuのインストール</p>
<p>(1) Ubuntuのインストール準備が整ったので、仮想マシンを起動する。virtual boxマネージャーの[起動]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/vm_manager2" rel="attachment wp-att-13680"><img src="{{ site.baseurl }}/assets/images/2018/12/vm_manager2-300x223.jpg" alt="" width="300" height="223" class="aligncenter size-medium wp-image-13680" /></a></p>
<p>(2) 「Welcome」の画面になるので左枠一番下に隠れている「日本語」を選択して、[Ubuntuをインストール]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_welcome2" rel="attachment wp-att-13682"><img src="{{ site.baseurl }}/assets/images/2018/12/install_welcome2-300x250.jpg" alt="" width="300" height="250" class="aligncenter size-medium wp-image-13682" /></a></p>
<p>(3) 「Ubuntuのインストール準備」の画面になるので、「Ubuntuのインストール中にアップデートをダウンロードする」を選択して、[続ける]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_prepare2" rel="attachment wp-att-13683"><img src="{{ site.baseurl }}/assets/images/2018/12/install_prepare2-300x250.jpg" alt="" width="300" height="250" class="aligncenter size-medium wp-image-13683" /></a></p>
<p>(4) 「インストールの種類」の画面になる。仮想マシン上にインストールするので、「ディスクを削除してUbuntuをインストール」を選び[インストール]をクリックする。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_method2" rel="attachment wp-att-13684"><img src="{{ site.baseurl }}/assets/images/2018/12/install_method2-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13684" /></a></p>
<p>(5) 「ディスクに変更を書き込みますか？」と聞かれるので[続ける]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_write2" rel="attachment wp-att-13685"><img src="{{ site.baseurl }}/assets/images/2018/12/install_write2-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13685" /></a></p>
<p>(6) 「どこに住んでいますか？」と聞かれるので、Tokyoのまま[続ける]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_tokyo2" rel="attachment wp-att-13686"><img src="{{ site.baseurl }}/assets/images/2018/12/install_tokyo2-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13686" /></a></p>
<p>(7) 「キーボードレイアウト」の画面になるので、自分のキーボードのレイアウトに合わせる。特殊なノートパソコン以外は標準で良い。[続ける]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_keyboard2" rel="attachment wp-att-13687"><img src="{{ site.baseurl }}/assets/images/2018/12/install_keyboard2-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13687" /></a>(8) 「あなたの情報を入力してください」と聞かれるので次のように入力する。この際、日本語は使わず、半角英数字を使うこと。</p>
<p>■　あなたの名前：　ローマ字（英数半角）で苗字　名前<br />
■　コンピュータの名前：b学籍番号<br />
■　ユーザー名の入力：　ローマ字（英数半角）で苗字<br />
■　パスワード：好きなパスワードを入れること。忘れないようにどこかにメモをすること。忘れた場合は、こちらでもわからないので、インストールのやり直しになる。</p>
<p>[続ける]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_info3" rel="attachment wp-att-13713"><img src="{{ site.baseurl }}/assets/images/2018/12/install_info3-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13713" /></a></p>
<p>(9) 設定作業が終わるまで待つ。私の環境では約4分かかった。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_welcome3" rel="attachment wp-att-13690"><img src="{{ site.baseurl }}/assets/images/2018/12/install_welcome3-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13690" /></a></p>
<p>(10)　「インストールが完了しました」の画面になるので、[今すぐ再起動する]をクリック。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_finish2" rel="attachment wp-att-13691"><img src="{{ site.baseurl }}/assets/images/2018/12/install_finish2-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13691" /></a></p>
<p>(11) 下の画面になり、「Please remove the installation medium, then press Enter」と表示されるが、DVDは入れていないので、Enterキーを押すだけで良い。Enterキーを押す。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_reboot3" rel="attachment wp-att-13692"><img src="{{ site.baseurl }}/assets/images/2018/12/install_reboot3-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13692" /></a></p>
<p>(12) 　ログインする画面になるので、設定したパスワードを入力する。<a href="http://demura.net/lecture/13582.html/attachment/install_login2" rel="attachment wp-att-13715"><img src="{{ site.baseurl }}/assets/images/2018/12/install_login2-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13715" /></a></p>
<p>次の画面になる。<a href="http://demura.net/lecture/13582.html/attachment/install_login" rel="attachment wp-att-13693"><br />
<img src="{{ site.baseurl }}/assets/images/2018/12/install_login-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13693" /></a></p>
<p>(13) 左上の「コンピュータを検索する」ボタンを右マウスボタンをクリックして、検索までにterminalと入力すると下図のように端末アイコンが現れるので、選択して起動する。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_terminal2" rel="attachment wp-att-13695"><img src="{{ site.baseurl }}/assets/images/2018/12/install_terminal2-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13695" /></a></p>
<p>下図のように背景が黒いウインドウが開く。開いたら終わり。なお、LinuxではこのTerminalにいろいろなコマンドを打ち込んで、アプリを実行する。</p>
<p><a href="http://demura.net/lecture/13582.html/attachment/install_terminal3" rel="attachment wp-att-13696"><img src="{{ site.baseurl }}/assets/images/2018/12/install_terminal3-300x225.jpg" alt="" width="300" height="225" class="aligncenter size-medium wp-image-13696" /></a></p>
<p>終わり</p>
