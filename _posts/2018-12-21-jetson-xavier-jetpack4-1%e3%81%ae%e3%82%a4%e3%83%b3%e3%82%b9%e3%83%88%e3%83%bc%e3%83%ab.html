---
layout: post
title: 'Jetson Xavier: JetPack4.1.1のインストール'
date: 2018-12-21 08:20:46.000000000 +09:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- robocup@home
tags: []
meta:
  _edit_last: '2'
  views: '4831'
  classic-editor-remember: classic-editor
  _thumbnail_id: '15400'
author:
  login: demu
  email: info@demura.net
  display_name: demu
  first_name: ''
  last_name: ''
permalink: "/robot/athome/15393.html"
---
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/xavier.jpg"><img src="{{ site.baseurl }}/assets/images/2018/12/xavier.jpg" alt="" width="960" height="720" class="aligncenter size-full wp-image-15400" /></a></p>
<p>Jetson AGX XavierへJetPack4.1.1をインストールしたときのメモ。当初、2018年の夏に購入したRazer Blade 15をXavierのホストPC環境としてインストールしようと何度も試みたがどうしてもXavierをflashできない。そのXavierが不良品だとも考えたが、古いLet's noteをポストPCに変更したところあっさりインストールできた。</p>
<p><strong>インストールできたホストPC環境</strong></p>
<ul>
<li>Panasonic Let's note￼ CF-LX3<br />
(CPU: Intel i7-4500U, Memory:16GB)</li>
<li>Xubuntu 16.04.02 LTS</li>
<li>Kernel 4.15.0-43-generic</li>
<li>gcc/g++ 5.4.0</li>
</ul>
<p>&nbsp;</p>
<p><strong>インストールできなかったホストPC環境</strong></p>
<ul>
<li>￼Razer Blade 15<br />
(CPU: Intel i7-8750H, Memory:16GB, GPU: Nvidia 1070 Max-Q Design, Memory: 8GB)</li>
<li>voyager16.04.05</li>
<li>Kernel 4.15.0-36-generic</li>
<li>gcc/g++ 5.4.0</li>
</ul>
<p><strong>インストール</strong></p>
<ul>
<li><a href="https://developer.nvidia.com/embedded-computing">NVIDIA EMBEDDED COMPUTING</a>のウェブサイトへ行き、下の[DOWNLOAD]をクリックする。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson1.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson1.png" alt="" width="1041" height="947" class="aligncenter size-full wp-image-15401" /></a></p>
<ul>
<li>[JetPack]をクリック</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson2.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson2.png" alt="" width="1041" height="892" class="aligncenter size-full wp-image-15402" /></a></p>
<p>&nbsp;</p>
<ul>
<li>DOWNLOADSの下のUbuntu [64-bit]をクリックする。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson3.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson3.png" alt="" width="1041" height="892" class="aligncenter size-full wp-image-15403" /></a></p>
<ul>
<li>Embedded Developer Programのメンバーにならないとダウンロードできないので、未加入の場合は[Join now]に必要事項を入力してなる。既にメンバーの場合は、右の[Log in]からログインする。ログインするとダウンロードが可能になるのでダウンロードする。JetPack-L4T-4.1.1-linux-x64_b57.run</li>
</ul>
<p><a href="http://demura.net/athome/13269.html/attachment/jetpack5" rel="attachment wp-att-13294"><img src="{{ site.baseurl }}/assets/images/2018/12/jetpack5.png" alt="" width="1082" height="532" class="aligncenter size-full wp-image-13294" /></a></p>
<ul>
<li>ターミナル(端末)を開き、ダウンロード先へ移動し以下のコマンドを実行すると次のJetPack L4Tのウインドウが開く。
<ul>
<li>chmod +x JetPack-L4T-4.1.1-linux-x64_b57.run</li>
<li>./JetPack-L4T-4.1.1-linux-x64_b57.run</li>
</ul>
</li>
<li>実行すると下のWarningが出るが問題ないので、okayをクリック。</li>
</ul>
<p><a href="http://demura.net/athome/13269.html/attachment/nvidia1" rel="attachment wp-att-13276"><img src="{{ site.baseurl }}/assets/images/2018/12/nvidia1.png" alt="" width="1132" height="121" class="aligncenter size-full wp-image-13276" /></a></p>
<p>下のイントーラーウインドウがでるのでNextをクリック。</p>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson4.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson4.png" alt="" width="911" height="664" class="aligncenter size-full wp-image-15404" /></a></p>
<ul>
<li>Nextをクリック。<a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson5.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson5.png" alt="" width="911" height="664" class="aligncenter size-full wp-image-15405" /></a></li>
<li>Jetson AGX Xavier Developer Kit (64bit) にチェックが入っていることを確認し、Nextをクリック。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson6.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson6.png" alt="" width="911" height="664" class="aligncenter size-full wp-image-15406" /></a></p>
<p>&nbsp;</p>
<ul>
<li>管理者のパスワードを入力し、「認証する」クリック。</li>
</ul>
<p>&nbsp;</p>
<p><a href="http://demura.net/athome/13269.html/attachment/nvidia5" rel="attachment wp-att-13280"><img src="{{ site.baseurl }}/assets/images/2018/12/nvidia5.png" alt="" width="642" height="294" class="aligncenter size-full wp-image-13280" /></a></p>
<ul>
<li>Fullを選択し、下の[Automatically resolve dependency conflicts]にチェックを入れ、Nextをクリック。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson7.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson7.png" alt="" width="920" height="775" class="aligncenter size-full wp-image-15407" /></a></p>
<ul>
<li>ライセンスの同意を聞かれるので、Accept Allにチェックを入れて、Acceptをクリック。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson8.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson8.png" alt="" width="700" height="640" class="aligncenter size-full wp-image-15408" /></a></p>
<ul>
<li>Important Noteウインドウが開く。端末にメッセージが表示されるかもしれないので、注意を払っておく。OKをクリック。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson10.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson10.png" alt="" width="388" height="185" class="aligncenter size-full wp-image-15409" /></a></p>
<ul>
<li>インストールが始まり、インストールが終わるとCompletedと表示されるので、Nextをクリックする。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson11.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson11.png" alt="" width="911" height="664" class="aligncenter size-full wp-image-15410" /></a></p>
<ul>
<li>Jetsonとホストコンピュータの接続を聞かれるので、あっている方を選択し、Nextをクリック。<a href="http://demura.net/athome/13269.html/attachment/nvidia11" rel="attachment wp-att-13286"><br />
</a><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson12.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson12.png" alt="" width="911" height="664" class="aligncenter size-full wp-image-15411" /></a></li>
<li>ネットワークのインタフェースを選択し、Nextをクリック。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson13.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson13.png" alt="" width="911" height="664" class="aligncenter size-full wp-image-15412" /></a></p>
<ul>
<li>インストール後の処理に移る。Nextをクリック。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson14.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson14.png" alt="" width="911" height="664" class="aligncenter size-full wp-image-15413" /></a></p>
<ul>
<li>Post Installationウインドウが開き、下の画面で処理が一度停止する。<br />
１．　 Jetsonの電源を切る。ACアダプタから給電している場合は、ACアダプタを抜く。<br />
２．　PCとJetsonをUSBケーブルで接続する。その際、Jetson側はUSB Type Cコネクタに接続する。<br />
３．　JetsonとACアダプタ、ディスプレイをMHDIで接続する。<br />
４．　中央のRECOVERYボタンを押しっぱなしにしながら、左端のPowerボタンを押して放す。その２秒後にRECOVERYボタンを放す。<br />
５．　Jetsonがリカバリモードになったら、ターミナルでlsusbコマンドを実行し、NVIDIA Corpと表示されていれば成功。失敗した場合は再度、１から５までの作業をやり直す。<br />
成功した場合は、Post Installationウインドウを選択して、エンターキーを押す。<br />
<a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jetson15.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jetson15.png" alt="" width="1364" height="436" class="aligncenter size-full wp-image-15416" /></a></li>
<li>インストール作業がすべて終了すると次の画面になりFinishを押し、作業を終了する。</li>
</ul>
<p><a href="http://demura.net/wordpress/wp-content/uploads/2018/12/jets0n-finish.png"><img src="{{ site.baseurl }}/assets/images/2018/12/jets0n-finish.png" alt="" width="913" height="669" class="aligncenter size-full wp-image-15418" /></a></p>
<p><strong>インストールのチェック</strong></p>
<ul>
<li>インストールがうまくいったかCUDAのサンプルプログラムをコンパイルして動かしてみる。ターミナルを開き、以下のコマンドを実行する。図のようなウインドウが開いたら成功。
<ul>
<li>$ cd</li>
<li>$ ./jetson_clocks.sh</li>
<li>$ cd /usr/local/cuda/bin</li>
<li>$  sudo --user=nvidia ./cuda-install-samples-10.0.sh  /home/nvidia</li>
<li>$ cd  /home/nvidia/NVIDIA_CUDA-8.0_Samples</li>
<li>$ make -j 8</li>
<li>$ cd  5_Simulations/smokeParticles</li>
<li>$ ./smokeParticles</li>
</ul>
</li>
</ul>
<p><a href="http://demura.net/athome/13269.html/attachment/smoke" rel="attachment wp-att-13345"><img src="{{ site.baseurl }}/assets/images/2018/12/smoke-1024x842.png" alt="" width="800" height="658" class="aligncenter size-large wp-image-13345" /></a></p>
<p>お疲れ様！</p>
